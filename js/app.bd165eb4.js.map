{"version":3,"file":"js/app.bd165eb4.js","mappings":"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","sources":["webpack://flow-builder/./src/components/icons/pathsData.js","webpack://flow-builder/./src/components/icons/CustomIcon.vue","webpack://flow-builder/./src/components/icons/CustomIcon.vue?79eb","webpack://flow-builder/./src/components/ToolPanel.vue?ed4a","webpack://flow-builder/./src/components/ToolPanel.vue","webpack://flow-builder/./src/components/ToolPanel.vue?cff6","webpack://flow-builder/./src/types/nodesConfig.ts","webpack://flow-builder/./src/components/NodeContextMenu.vue?5592","webpack://flow-builder/./src/components/NodeContextMenu.vue","webpack://flow-builder/./src/components/NodeContextMenu.vue?e61d","webpack://flow-builder/./src/components/NodeSelectionMenu.vue?623f","webpack://flow-builder/./src/components/NodeSelectionMenu.vue","webpack://flow-builder/./src/components/NodeSelectionMenu.vue?6f94","webpack://flow-builder/./src/components/FlowBuilder.vue?9a23","webpack://flow-builder/./src/components/FlowBuilder.vue","webpack://flow-builder/./src/components/FlowBuilder.vue?bc76","webpack://flow-builder/./src/App.vue?2a5e","webpack://flow-builder/./src/App.vue","webpack://flow-builder/./src/App.vue?7ccd","webpack://flow-builder/./src/directives/clickOutside.js","webpack://flow-builder/./src/main.ts","webpack://flow-builder/webpack/bootstrap","webpack://flow-builder/webpack/runtime/chunk loaded","webpack://flow-builder/webpack/runtime/compat get default export","webpack://flow-builder/webpack/runtime/define property getters","webpack://flow-builder/webpack/runtime/global","webpack://flow-builder/webpack/runtime/hasOwnProperty shorthand","webpack://flow-builder/webpack/runtime/make namespace object","webpack://flow-builder/webpack/runtime/jsonp chunk loading","webpack://flow-builder/webpack/startup"],"sourcesContent":["export const pathsData = {\r\n    // viewBox = '0 0 16 16'\r\n    question: [\r\n        {\r\n            d: 'M8 2C6.346 2 5 3.346 5 5a.75.75 0 0 0 1.5 0c0-.826.674-1.5 1.5-1.5s1.5.674 1.5 1.5c0 .653-.122 1.018-.254 1.25c-.137.242-.321.41-.601.643l-.051.042c-.26.215-.612.507-.88.939c-.3.483-.464 1.08-.464 1.876v.5a.75.75 0 0 0 1.5 0v-.5c0-.579.116-.888.239-1.085c.136-.219.316-.37.616-.62c.283-.236.66-.553.945-1.053c.29-.51.45-1.145.45-1.992c0-1.654-1.346-3-3-3zm0 12.25a1 1 0 1 0 0-2a1 1 0 0 0 0 2z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Question16Filled\r\n    settings: [\r\n        {\r\n            d: 'M2.267 6.153A5.986 5.986 0 0 1 3.53 3.98a.355.355 0 0 1 .382-.095l1.36.484a.71.71 0 0 0 .935-.538l.26-1.416a.354.354 0 0 1 .274-.282a6.072 6.072 0 0 1 2.52 0c.14.03.248.141.274.282l.26 1.416a.708.708 0 0 0 .935.538l1.36-.484a.355.355 0 0 1 .382.095c.569.627 1 1.367 1.262 2.173a.352.352 0 0 1-.108.378l-1.102.931a.703.703 0 0 0 0 1.076l1.102.931c.11.093.152.242.108.378a5.985 5.985 0 0 1-1.262 2.173a.355.355 0 0 1-.382.095l-1.36-.484a.71.71 0 0 0-.935.538l-.26 1.416a.353.353 0 0 1-.275.282a6.068 6.068 0 0 1-2.519 0a.354.354 0 0 1-.275-.282l-.259-1.416a.708.708 0 0 0-.935-.538l-1.36.484a.355.355 0 0 1-.382-.095a5.986 5.986 0 0 1-1.262-2.173a.352.352 0 0 1 .108-.378l1.102-.931a.704.704 0 0 0 0-1.076l-1.102-.931a.352.352 0 0 1-.108-.378zM6.25 8a1.75 1.75 0 1 0 3.5 0a1.75 1.75 0 0 0-3.5 0z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Settings16Filled\r\n    plus: [\r\n        {\r\n            d: 'M8.5 2.75a.75.75 0 0 0-1.5 0V7H2.75a.75.75 0 0 0 0 1.5H7v4.25a.75.75 0 0 0 1.5 0V8.5h4.25a.75.75 0 0 0 0-1.5H8.5V2.75z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Add16Filled\r\n    play: [\r\n        {\r\n            d: 'M6.235 2.192A1.5 1.5 0 0 0 4 3.499v9a1.5 1.5 0 0 0 2.235 1.308l8-4.5a1.5 1.5 0 0 0 0-2.615l-8-4.5z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Play16Filled\r\n    pause: [\r\n        {\r\n            d: 'M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h2A1.5 1.5 0 0 0 7 12.5v-9A1.5 1.5 0 0 0 5.5 2h-2zm7 0A1.5 1.5 0 0 0 9 3.5v9a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 12.5 2h-2z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Pause16Filled\r\n    delete: [\r\n        {\r\n            d: 'M10 4h3a.5.5 0 0 1 0 1h-.553l-.752 6.776A2.5 2.5 0 0 1 9.21 14H6.79a2.5 2.5 0 0 1-2.485-2.224L3.552 5H3a.5.5 0 0 1 0-1h3a2 2 0 1 1 4 0zM8 3a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1zM6.5 7v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-1 0zM9 6.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-.5-.5z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Delete16Filled\r\n    refresh: [\r\n        {\r\n            d: 'M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:ArrowClockwise16Regular\r\n    code: [\r\n        {\r\n            d: 'M9.803 3.043a.5.5 0 0 1 .254.66l-4 9a.5.5 0 0 1-.914-.406l4-9a.5.5 0 0 1 .66-.254zm-5.47 2.333a.5.5 0 0 1 .04.706L2.67 8l1.705 1.918a.5.5 0 1 1-.748.664l-2-2.25a.5.5 0 0 1 0-.664l2-2.25a.5.5 0 0 1 .706-.042zm7.335 0a.5.5 0 0 1 .706.042l2 2.25a.5.5 0 0 1 0 .664l-2 2.25a.5.5 0 1 1-.748-.664L13.331 8l-1.705-1.918a.5.5 0 0 1 .042-.706z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Code16Regular\r\n    download: [\r\n        {\r\n            d: 'M3.5 13h9a.75.75 0 0 1 .102 1.493l-.102.007h-9a.75.75 0 0 1-.102-1.493L3.5 13h9h-9zM7.898 1.007L8 1a.75.75 0 0 1 .743.648l.007.102v7.688l2.255-2.254a.75.75 0 0 1 .977-.072l.084.072a.75.75 0 0 1 .072.977l-.072.084L8.53 11.78a.75.75 0 0 1-.976.073l-.084-.073l-3.536-3.535a.75.75 0 0 1 .977-1.133l.084.072L7.25 9.44V1.75a.75.75 0 0 1 .648-.743L8 1l-.102.007z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:ArrowDownload16Filled\r\n    edit: [\r\n        {\r\n            d: 'M13.416 2.584c.778.778.778 2.039 0 2.817L6.058 12.76c-.319.32-.719.546-1.156.655l-2.283.57a.498.498 0 0 1-.604-.603l.57-2.283a2.49 2.49 0 0 1 .656-1.156l7.358-7.358a1.992 1.992 0 0 1 2.817 0zM9.894 4.697l-5.949 5.949a1.495 1.495 0 0 0-.393.694l-.369 1.477l1.477-.37c.263-.065.503-.2.694-.392l5.949-5.95l-1.409-1.408zm1.41-1.41l-.705.705l1.408 1.409l.705-.704a.996.996 0 0 0-1.409-1.41z',\r\n            fill: 'currentColor',\r\n        },\r\n    ],// fluent:Edit16Regular\r\n\r\n}","<script>\r\nimport { h } from 'vue'\r\n\r\nexport default {\r\n  props: {\r\n    size: {\r\n      type: [Number, String],\r\n      default: 20,\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: 'currentColor',\r\n    },\r\n    viewBox: {\r\n      type: String,\r\n      default: '0 0 16 16',\r\n    },\r\n    paths: {\r\n      type: Array,\r\n      required: true,\r\n      // каждый элемент — объект с атрибутами для <path>, например { d: '...', fill: 'currentColor' }\r\n    },\r\n  },\r\n  setup(props) {\r\n    return () =>\r\n      h(\r\n        'svg',\r\n        {\r\n          xmlns: 'http://www.w3.org/2000/svg',\r\n          viewBox: props.viewBox,\r\n          fill: props.color,\r\n          width: props.size,\r\n          height: props.size,\r\n          'aria-hidden': 'true',\r\n          focusable: 'false',\r\n        },\r\n        props.paths.map((pathAttrs) => h('path', pathAttrs))\r\n      )\r\n  },\r\n}\r\n</script>","import script from \"./CustomIcon.vue?vue&type=script&lang=js\"\nexport * from \"./CustomIcon.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"tool-panel\" }\n\nimport { ref, computed, h } from 'vue';\r\nimport {\r\n  NButton,\r\n  NIcon,\r\n  NInput,\r\n  NSpace,\r\n  NPopover,\r\n  NList,\r\n  NListItem,\r\n  NCard,\r\n  NForm,\r\n  NFormItem,\r\n  NCode\r\n} from 'naive-ui';\r\nimport { useVueFlow, Edge } from '@vue-flow/core';\r\nimport YAML from 'yaml';\r\nimport CustomNode from '../types';\r\nimport { pathsData } from './icons';\r\nimport CustomIcon from './icons/CustomIcon.vue';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ToolPanel',\n  props: {\r\n  elements: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  isRunning: Boolean,\r\n  isStopped: Boolean,\r\n  selectedNode: Object,\r\n  selectedEdge: Object\r\n},\n  setup(__props) {\n\r\nconst {\r\n  getEdges\r\n} = useVueFlow();\r\n\r\n// icons\r\nconst QuestionIcon = h(CustomIcon, { paths: pathsData['question']});\r\nconst PlusIcon = h(CustomIcon, { paths: pathsData['plus']});\r\nconst PlayIcon = h(CustomIcon, { paths: pathsData['play']});\r\nconst PauseIcon = h(CustomIcon, { paths: pathsData['pause']});\r\nconst DeleteIcon = h(CustomIcon, { paths: pathsData['delete']});\r\nconst RefreshIcon = h(CustomIcon, { paths: pathsData['refresh']});\r\nconst CodeIcon = h(CustomIcon, { paths: pathsData['code']});\r\nconst DownloadIcon = h(CustomIcon, { paths: pathsData['download']});\r\nconst EditIcon = h(CustomIcon, { paths: pathsData['edit']});\r\n\r\nconst props = __props;\r\n\r\nconst flowName = ref('my_flow');\r\nconst flowDescription = ref('My flow\\'s desciption.');\r\nconst daguYaml = ref('');\r\n\r\nconst isGraphValid = computed(() => {\r\n  const visited = new Set<string>();\r\n  let currentNode: string | null = 'start';\r\n  \r\n  while (currentNode && currentNode !== 'end') {\r\n    if (visited.has(currentNode)) {\r\n      return false;\r\n    }\r\n    visited.add(currentNode);\r\n    \r\n    const edgesFromCurrent = getEdges.value.filter(e => e.source === currentNode);\r\n    if (edgesFromCurrent.length !== 1) {\r\n      return false;\r\n    }\r\n    \r\n    currentNode = edgesFromCurrent[0].target;\r\n  }\r\n  \r\n  return currentNode === 'end';\r\n});\r\n\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = props.elements.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nconst generateDAGUYaml = () => {\r\n  const steps = [];\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = props.elements.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      steps.push({\r\n        name: node.data.label,\r\n        command: node.data.command\r\n      });\r\n    }\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  const daguConfig = {\r\n    name: flowName.value,\r\n    description: flowDescription.value,\r\n    steps: steps\r\n  };\r\n  \r\n  daguYaml.value = YAML.stringify(daguConfig);\r\n};\r\n\r\nconst downloadDAGUYaml = () => {\r\n  if (!daguYaml.value) return;\r\n  \r\n  const blob = new Blob([daguYaml.value], { type: 'application/yaml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `${flowName.value}.yaml`.replace(/\\s+/g, '_');\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\n/*\r\nconst emit = defineEmits([\r\n  'add-node',\r\n  'start-flow',\r\n  'stop-flow',\r\n  'continue-flow',\r\n  'reset-flow',\r\n  'update-node-label',\r\n  'update-node-command',\r\n  'delete-selected-edge',\r\n  'generate-dagu-yaml',\r\n  'download-dagu-yaml'\r\n]);\r\n*/\r\n\r\nconst showHints = ref(false);\r\nconst showDaguYaml = ref(false);\r\n// const showSettingsCards = ref(false);\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_n_text = _resolveComponent(\"n-text\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(NSpace), {\n      justify: \"space-between\",\n      align: \"center\",\n      style: {\"padding\":\"7px 17px\"}\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NSpace), { style: {\"padding\":\"0 17px\"} }, {\n          default: _withCtx(() => [\n            _createVNode(_component_n_text, {\n              style: {\"color\":\"#f2f2f2\",\"font-size\":\"20px\"},\n              strong: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(flowName.value), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NPopover), { trigger: \"click\" }, {\n              trigger: _withCtx(() => [\n                _createVNode(_unref(NButton), {\n                  text: \"\",\n                  style: {\"font-size\":\"18px\"},\n                  color: \"#c7c7c7\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(EditIcon))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_unref(NCard), {\n                  title: \"Настройки пайплайна\",\n                  size: \"small\",\n                  style: {\"width\":\"300px\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NForm), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NFormItem), {\n                          label: \"Название\",\n                          path: \"flowName\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NInput), {\n                              value: flowName.value,\n                              \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((flowName).value = $event)),\n                              placeholder: \"Введите название\"\n                            }, null, 8, [\"value\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NFormItem), {\n                          label: \"Описание\",\n                          path: \"flowDescription\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NInput), {\n                              value: flowDescription.value,\n                              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((flowDescription).value = $event)),\n                              placeholder: \"Введите описание\",\n                              type: \"textarea\"\n                            }, null, 8, [\"value\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(NSpace), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NButton), {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('add-node'))),\n              type: \"primary\",\n              circle: \"\"\n            }, {\n              icon: _withCtx(() => [\n                _createVNode(_unref(NIcon), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(PlusIcon))\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NButton), {\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('start-flow'))),\n              disabled: !isGraphValid.value || props.isRunning,\n              type: \"success\",\n              circle: \"\"\n            }, {\n              icon: _withCtx(() => [\n                _createVNode(_unref(NIcon), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(PlayIcon))\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"disabled\"]),\n            _createVNode(_unref(NButton), {\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.$emit('stop-flow'))),\n              disabled: !props.isRunning || props.isStopped,\n              type: \"warning\",\n              circle: \"\"\n            }, {\n              icon: _withCtx(() => [\n                _createVNode(_unref(NIcon), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(PauseIcon))\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"disabled\"]),\n            (props.isStopped)\n              ? (_openBlock(), _createBlock(_unref(NButton), {\n                  key: 0,\n                  onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.$emit('reset-flow'))),\n                  type: \"error\",\n                  circle: \"\"\n                }, {\n                  icon: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(RefreshIcon))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }),\n        (props.selectedEdge)\n          ? (_openBlock(), _createBlock(_unref(NSpace), { key: 0 }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NButton), {\n                  onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.$emit('delete-selected-edge'))),\n                  type: \"error\",\n                  circle: \"\"\n                }, {\n                  icon: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(DeleteIcon))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        (isGraphValid.value)\n          ? (_openBlock(), _createBlock(_unref(NSpace), { key: 1 }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NPopover), {\n                  trigger: \"click\",\n                  show: showDaguYaml.value\n                }, {\n                  trigger: _withCtx(() => [\n                    _createVNode(_unref(NButton), {\n                      onClick: _cache[7] || (_cache[7] = ($event: any) => {generateDAGUYaml(); showDaguYaml.value = !showDaguYaml.value}),\n                      ghost: \"\",\n                      color: \"#c7c7c7\",\n                      size: \"small\"\n                    }, {\n                      icon: _withCtx(() => [\n                        _createVNode(_unref(NIcon), null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(CodeIcon))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      default: _withCtx(() => [\n                        _cache[9] || (_cache[9] = _createTextVNode(\" YAML \"))\n                      ]),\n                      _: 1,\n                      __: [9]\n                    })\n                  ]),\n                  default: _withCtx(() => [\n                    (isGraphValid.value && daguYaml.value)\n                      ? (_openBlock(), _createBlock(_unref(NCard), {\n                          key: 0,\n                          title: \"Конфигурация DAGU\",\n                          size: \"small\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NCode), {\n                              language: \"yaml\",\n                              code: daguYaml.value,\n                              \"word-wrap\": \"\"\n                            }, null, 8, [\"code\"])\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }, 8, [\"show\"]),\n                _createVNode(_unref(NButton), {\n                  onClick: downloadDAGUYaml,\n                  disabled: !daguYaml.value,\n                  size: \"small\",\n                  ghost: \"\",\n                  color: \"#c7c7c7\"\n                }, {\n                  icon: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(DownloadIcon))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  default: _withCtx(() => [\n                    _cache[10] || (_cache[10] = _createTextVNode(\" Экспорт \"))\n                  ]),\n                  _: 1,\n                  __: [10]\n                }, 8, [\"disabled\"])\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_unref(NSpace), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NPopover), {\n              trigger: \"click\",\n              show: showHints.value\n            }, {\n              trigger: _withCtx(() => [\n                _createVNode(_unref(NButton), {\n                  onClick: _cache[8] || (_cache[8] = ($event: any) => (showHints.value = !showHints.value)),\n                  ghost: \"\",\n                  color: \"#c7c7c7\",\n                  circle: \"\"\n                }, {\n                  icon: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(QuestionIcon))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_unref(NList), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NListItem), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_n_text, null, {\n                          default: _withCtx(() => _cache[11] || (_cache[11] = [\n                            _createElementVNode(\"strong\", null, \"ЛКМ\", -1),\n                            _createTextVNode(\" - Выбрать шаг\")\n                          ])),\n                          _: 1,\n                          __: [11]\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NListItem), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_n_text, null, {\n                          default: _withCtx(() => _cache[12] || (_cache[12] = [\n                            _createElementVNode(\"strong\", null, \"ПКМ\", -1),\n                            _createTextVNode(\" - Редактировать параметры шага\")\n                          ])),\n                          _: 1,\n                          __: [12]\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NListItem), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_n_text, null, {\n                          default: _withCtx(() => _cache[13] || (_cache[13] = [\n                            _createElementVNode(\"strong\", null, \"Ctrl+A\", -1),\n                            _createTextVNode(\" - Добавить новый шаг\")\n                          ])),\n                          _: 1,\n                          __: [13]\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NListItem), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_n_text, null, {\n                          default: _withCtx(() => _cache[14] || (_cache[14] = [\n                            _createElementVNode(\"strong\", null, \"Ctrl+X\", -1),\n                            _createTextVNode(\" - Удалить выбранный шаг или связь\")\n                          ])),\n                          _: 1,\n                          __: [14]\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"show\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"tool-panel\">\r\n    <n-space justify=\"space-between\" align=\"center\" style=\"padding: 7px 17px\">\r\n\r\n      <!-- Flow Settings -->\r\n      <n-space style=\"padding: 0 17px\">\r\n        <n-text style=\"color: #f2f2f2; font-size: 20px\" strong>{{ flowName }}</n-text>\r\n        \r\n        <n-popover trigger=\"click\">\r\n          <template #trigger>\r\n            <n-button text style=\"font-size: 18px\" color=\"#c7c7c7\">\r\n              <n-icon><edit-icon /></n-icon>\r\n            </n-button>\r\n          </template>\r\n          <n-card title=\"Настройки пайплайна\" size=\"small\" style=\"width: 300px\">\r\n            <n-form>\r\n              <n-form-item label=\"Название\" path=\"flowName\">\r\n                <n-input \r\n                  v-model:value=\"flowName\" \r\n                  placeholder=\"Введите название\"\r\n                />\r\n              </n-form-item>\r\n              <n-form-item label=\"Описание\" path=\"flowDescription\">\r\n                <n-input \r\n                  v-model:value=\"flowDescription\" \r\n                  placeholder=\"Введите описание\"\r\n                  type=\"textarea\"\r\n                />\r\n              </n-form-item>\r\n            </n-form>\r\n          </n-card>\r\n        </n-popover>\r\n      </n-space>\r\n\r\n      <!-- Flow Management Section -->\r\n      <n-space>\r\n        <n-button @click=\"$emit('add-node')\" type=\"primary\" circle>\r\n          <template #icon>\r\n            <n-icon><plus-icon /></n-icon>\r\n          </template>\r\n        </n-button>\r\n        <n-button \r\n          @click=\"$emit('start-flow')\" \r\n          :disabled=\"!isGraphValid || props.isRunning\"\r\n          type=\"success\"\r\n          circle\r\n        >\r\n          <template #icon>\r\n            <n-icon><play-icon /></n-icon>\r\n          </template>\r\n        </n-button>\r\n        <n-button \r\n          @click=\"$emit('stop-flow')\" \r\n          :disabled=\"!props.isRunning || props.isStopped\"\r\n          type=\"warning\"\r\n          circle\r\n        >\r\n          <template #icon>\r\n            <n-icon><pause-icon /></n-icon>\r\n          </template>\r\n        </n-button>\r\n\r\n        <!-- <n-button \r\n          v-if=\"props.isStopped\" \r\n          @click=\"$emit('continue-flow')\"\r\n          type=\"info\"\r\n          circle\r\n        >\r\n          <template #icon>\r\n            <n-icon><play-icon /></n-icon>\r\n          </template>\r\n        </n-button> -->\r\n        <n-button \r\n          v-if=\"props.isStopped\" \r\n          @click=\"$emit('reset-flow')\"\r\n          type=\"error\"\r\n          circle\r\n        >\r\n          <template #icon>\r\n            <n-icon><refresh-icon /></n-icon>\r\n          </template>\r\n        </n-button>\r\n      </n-space>\r\n\r\n      <!-- Edge Settings -->\r\n      <n-space v-if=\"props.selectedEdge\">\r\n        <n-button @click=\"$emit('delete-selected-edge')\" type=\"error\" circle>\r\n          <template #icon>\r\n            <n-icon><delete-icon /></n-icon>\r\n          </template>\r\n        </n-button>\r\n      </n-space>\r\n\r\n      <!-- DAGU Section -->\r\n      <n-space v-if=\"isGraphValid\">\r\n      <n-popover trigger=\"click\" :show=\"showDaguYaml\">\r\n        <template #trigger>\r\n          <n-button @click=\"generateDAGUYaml(); showDaguYaml = !showDaguYaml\" ghost color=\"#c7c7c7\" size=\"small\">\r\n            <template #icon>\r\n              <n-icon><code-icon /></n-icon>\r\n            </template>\r\n            YAML\r\n          </n-button>\r\n        </template>\r\n          <n-card \r\n          v-if=\"isGraphValid && daguYaml\" \r\n          title=\"Конфигурация DAGU\" \r\n          size=\"small\" \r\n        >\r\n          <n-code language=\"yaml\" :code=\"daguYaml\" word-wrap/>\r\n      </n-card>\r\n      </n-popover>\r\n\r\n        <n-button \r\n          @click=\"downloadDAGUYaml\" \r\n          :disabled=\"!daguYaml\" \r\n          size=\"small\"\r\n          ghost\r\n          color=\"#c7c7c7\"\r\n        >\r\n          <template #icon>\r\n            <n-icon><download-icon /></n-icon>\r\n          </template>\r\n          Экспорт\r\n        </n-button>\r\n      </n-space>\r\n\r\n      <!-- Tips -->\r\n      <n-space>\r\n        <n-popover trigger=\"click\" :show=\"showHints\">\r\n                <template #trigger>\r\n                  <n-button @click=\"showHints = !showHints\" ghost color=\"#c7c7c7\" circle>\r\n                    <template #icon>\r\n                      <n-icon><question-icon /></n-icon>\r\n                    </template>\r\n                  </n-button>\r\n                </template>\r\n                <n-list>\r\n                  <n-list-item>\r\n                    <n-text><strong>ЛКМ</strong> - Выбрать шаг</n-text>\r\n                  </n-list-item>\r\n                  <n-list-item>\r\n                    <n-text><strong>ПКМ</strong> - Редактировать параметры шага</n-text>\r\n                  </n-list-item>\r\n                  <n-list-item>\r\n                    <n-text><strong>Ctrl+A</strong> - Добавить новый шаг</n-text>\r\n                  </n-list-item>\r\n                  <n-list-item>\r\n                    <n-text><strong>Ctrl+X</strong> - Удалить выбранный шаг или связь</n-text>\r\n                  </n-list-item>\r\n                </n-list>\r\n              </n-popover>\r\n      </n-space>\r\n    </n-space>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, defineProps, computed, h } from 'vue';\r\nimport {\r\n  NButton,\r\n  NIcon,\r\n  NInput,\r\n  NSpace,\r\n  NPopover,\r\n  NList,\r\n  NListItem,\r\n  NCard,\r\n  NForm,\r\n  NFormItem,\r\n  NCode\r\n} from 'naive-ui';\r\nimport { useVueFlow, Edge } from '@vue-flow/core';\r\nimport YAML from 'yaml';\r\nimport CustomNode from '../types';\r\nimport { pathsData } from './icons';\r\nimport CustomIcon from './icons/CustomIcon.vue';\r\n\r\nconst {\r\n  getEdges\r\n} = useVueFlow();\r\n\r\n// icons\r\nconst QuestionIcon = h(CustomIcon, { paths: pathsData['question']});\r\nconst PlusIcon = h(CustomIcon, { paths: pathsData['plus']});\r\nconst PlayIcon = h(CustomIcon, { paths: pathsData['play']});\r\nconst PauseIcon = h(CustomIcon, { paths: pathsData['pause']});\r\nconst DeleteIcon = h(CustomIcon, { paths: pathsData['delete']});\r\nconst RefreshIcon = h(CustomIcon, { paths: pathsData['refresh']});\r\nconst CodeIcon = h(CustomIcon, { paths: pathsData['code']});\r\nconst DownloadIcon = h(CustomIcon, { paths: pathsData['download']});\r\nconst EditIcon = h(CustomIcon, { paths: pathsData['edit']});\r\n\r\nconst props = defineProps({\r\n  elements: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  isRunning: Boolean,\r\n  isStopped: Boolean,\r\n  selectedNode: Object,\r\n  selectedEdge: Object\r\n});\r\n\r\nconst flowName = ref('my_flow');\r\nconst flowDescription = ref('My flow\\'s desciption.');\r\nconst daguYaml = ref('');\r\n\r\nconst isGraphValid = computed(() => {\r\n  const visited = new Set<string>();\r\n  let currentNode: string | null = 'start';\r\n  \r\n  while (currentNode && currentNode !== 'end') {\r\n    if (visited.has(currentNode)) {\r\n      return false;\r\n    }\r\n    visited.add(currentNode);\r\n    \r\n    const edgesFromCurrent = getEdges.value.filter(e => e.source === currentNode);\r\n    if (edgesFromCurrent.length !== 1) {\r\n      return false;\r\n    }\r\n    \r\n    currentNode = edgesFromCurrent[0].target;\r\n  }\r\n  \r\n  return currentNode === 'end';\r\n});\r\n\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = props.elements.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nconst generateDAGUYaml = () => {\r\n  const steps = [];\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = props.elements.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      steps.push({\r\n        name: node.data.label,\r\n        command: node.data.command\r\n      });\r\n    }\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  const daguConfig = {\r\n    name: flowName.value,\r\n    description: flowDescription.value,\r\n    steps: steps\r\n  };\r\n  \r\n  daguYaml.value = YAML.stringify(daguConfig);\r\n};\r\n\r\nconst downloadDAGUYaml = () => {\r\n  if (!daguYaml.value) return;\r\n  \r\n  const blob = new Blob([daguYaml.value], { type: 'application/yaml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `${flowName.value}.yaml`.replace(/\\s+/g, '_');\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\n/*\r\nconst emit = defineEmits([\r\n  'add-node',\r\n  'start-flow',\r\n  'stop-flow',\r\n  'continue-flow',\r\n  'reset-flow',\r\n  'update-node-label',\r\n  'update-node-command',\r\n  'delete-selected-edge',\r\n  'generate-dagu-yaml',\r\n  'download-dagu-yaml'\r\n]);\r\n*/\r\n\r\nconst showHints = ref(false);\r\nconst showDaguYaml = ref(false);\r\n// const showSettingsCards = ref(false);\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tool-panel {\r\n  background-color: #0f0101;\r\n  color: white;\r\n  padding: 5px 0;\r\n  border-radius: 8px;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.settings-cards {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.settings-cards > * {\r\n  flex: 1;\r\n}\r\n</style>","import script from \"./ToolPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ToolPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ToolPanel.vue?vue&type=style&index=0&id=e2fbfedc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e2fbfedc\"]])\n\nexport default __exports__","export type NodeParamType = 'string' | 'number' | 'boolean';\r\n\r\nexport interface NodeParamConfig {\r\n  name: string;\r\n  type: NodeParamType;\r\n  required?: boolean;\r\n  default?: any;\r\n  enum?: string[];\r\n}\r\n\r\nexport interface NodeConfig {\r\n  name: string;\r\n  params: NodeParamConfig[];\r\n}\r\n\r\nexport interface NodesConfig {\r\n  [category: string]: NodeConfig[];\r\n}\r\n\r\nconst config: NodesConfig = {\r\n  proc: [\r\n    {\r\n      name: \"comparison\",\r\n      params: [\r\n        {\r\n          name: \"propertyName\",\r\n          type: \"string\",\r\n          required: true\r\n        },\r\n        {\r\n          name: \"order\",\r\n          type: \"string\",\r\n          enum: [\"<\", \">\"],\r\n          required: true,\r\n          default: \"<\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"iterate\",\r\n      params: [\r\n        {\r\n          name: \"print\",\r\n          type: \"boolean\",\r\n          default: true\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  bx24: [\r\n    {\r\n      name: \"get_deals\",\r\n      params: []\r\n    },\r\n    {\r\n      name: \"get_deal_by_id\",\r\n      params: [\r\n        {\r\n          name: \"id\",\r\n          type: \"string\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n\r\nexport default config;","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"20px\"} }\n\nimport { ref, watch, computed } from 'vue';\r\nimport { \r\n  NInput, NButton, NCard, NForm, NFormItem,\r\n  NSelect, NSwitch, NInputNumber \r\n} from 'naive-ui';\r\nimport nodesConfig from '@/types/nodesConfig';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'NodeContextMenu',\n  props: {\r\n  node: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  visible: Boolean,\r\n  x: Number,\r\n  y: Number\r\n},\n  emits: [\r\n  'update:visible', \r\n  'update-label', \r\n  'update-command',\r\n  'update-params'\r\n],\n  setup(__props, { emit: __emit }) {\n\r\nconst props = __props;\r\n\r\nconst emit = __emit;\r\n\r\nconst localLabel = ref('');\r\nconst localCommand = ref('');\r\nconst localParams = ref<Record<string, any>>({});\r\n\r\n// get parameters for the current node\r\nconst nodeParams = computed(() => {\r\n  if (!props.node?.data?.label) return [];\r\n  \r\n  // search in the config\r\n  const [nodeType, operationName] = props.node.data.label.split('_');\r\n  const operations = nodesConfig[nodeType];\r\n  const operation =  operations?.find(op => op.name === operationName);\r\n  if (operation) {\r\n      return operation.params;\r\n    }\r\n  return [];\r\n});\r\n\r\nwatch(() => props.node, (newNode) => {\r\n  if (newNode) {\r\n    localLabel.value = newNode.data.label;\r\n    localCommand.value = newNode.data.command || '';\r\n\r\n    nodeParams.value.forEach(param => {\r\n      localParams.value[param.name] = newNode.data[param.name] !== undefined \r\n        ? newNode.data[param.name] \r\n        : param.default;\r\n    });\r\n  }\r\n}, { immediate: true });\r\n\r\nconst positionStyle = computed(() => ({\r\n  left: `${props.x}px`,\r\n  top: `${props.y}px`,\r\n  position: 'absolute',\r\n  zIndex: 1000\r\n}));\r\n\r\nconst saveAndClose = () => {\r\n  emit('update-label', localLabel.value);\r\n  emit('update-command', localCommand.value);\r\n  \r\n  const paramsToUpdate: Record<string, any> = {};\r\n  nodeParams.value.forEach(param => {\r\n    if (localParams.value[param.name] !== undefined) {\r\n      paramsToUpdate[param.name] = localParams.value[param.name];\r\n    }\r\n  });\r\n  \r\n  emit('update-params', paramsToUpdate);\r\n  emit('update:visible', false);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.visible)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: \"node-context-menu\",\n        style: _normalizeStyle(positionStyle.value)\n      }, [\n        _createVNode(_unref(NCard), {\n          title: \"Редактирование шага\",\n          size: \"small\",\n          style: {\"width\":\"350px\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NForm), null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NFormItem), { label: \"Название шага\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: localLabel.value,\n                      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((localLabel).value = $event)),\n                      onBlur: _ctx.updateLabel\n                    }, null, 8, [\"value\", \"onBlur\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NFormItem), { label: \"Команда\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: localCommand.value,\n                      \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((localCommand).value = $event)),\n                      onBlur: _ctx.updateCommand\n                    }, null, 8, [\"value\", \"onBlur\"])\n                  ]),\n                  _: 1\n                }),\n                (nodeParams.value.length > 0)\n                  ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(nodeParams.value, (param) => {\n                      return (_openBlock(), _createBlock(_unref(NFormItem), {\n                        key: param.name,\n                        label: param.name\n                      }, {\n                        default: _withCtx(() => [\n                          (param.type === 'string' && param.enum)\n                            ? (_openBlock(), _createBlock(_unref(NSelect), {\n                                key: 0,\n                                value: localParams.value[param.name],\n                                \"onUpdate:value\": ($event: any) => ((localParams.value[param.name]) = $event),\n                                options: param.enum.map(e => ({ label: e, value: e }))\n                              }, null, 8, [\"value\", \"onUpdate:value\", \"options\"]))\n                            : (param.type === 'string')\n                              ? (_openBlock(), _createBlock(_unref(NInput), {\n                                  key: 1,\n                                  value: localParams.value[param.name],\n                                  \"onUpdate:value\": ($event: any) => ((localParams.value[param.name]) = $event)\n                                }, null, 8, [\"value\", \"onUpdate:value\"]))\n                              : (param.type === 'boolean')\n                                ? (_openBlock(), _createBlock(_unref(NSwitch), {\n                                    key: 2,\n                                    value: localParams.value[param.name],\n                                    \"onUpdate:value\": ($event: any) => ((localParams.value[param.name]) = $event)\n                                  }, null, 8, [\"value\", \"onUpdate:value\"]))\n                                : (param.type === 'number')\n                                  ? (_openBlock(), _createBlock(_unref(NInputNumber), {\n                                      key: 3,\n                                      value: localParams.value[param.name],\n                                      \"onUpdate:value\": ($event: any) => ((localParams.value[param.name]) = $event)\n                                    }, null, 8, [\"value\", \"onUpdate:value\"]))\n                                  : _createCommentVNode(\"\", true)\n                        ]),\n                        _: 2\n                      }, 1032, [\"label\"]))\n                    }), 128))\n                  : _createCommentVNode(\"\", true),\n                _createElementVNode(\"div\", _hoisted_1, [\n                  _createVNode(_unref(NButton), {\n                    onClick: saveAndClose,\n                    type: \"primary\"\n                  }, {\n                    default: _withCtx(() => _cache[2] || (_cache[2] = [\n                      _createTextVNode(\" Сохранить \")\n                    ])),\n                    _: 1,\n                    __: [2]\n                  })\n                ])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ], 4))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\r\n  <div \r\n    v-if=\"visible\"\r\n    class=\"node-context-menu\"\r\n    :style=\"positionStyle\"\r\n  >\r\n    <n-card title=\"Редактирование шага\" size=\"small\" style=\"width: 350px\">\r\n      <n-form>\r\n        <n-form-item label=\"Название шага\">\r\n          <n-input \r\n            v-model:value=\"localLabel\" \r\n            @blur=\"updateLabel\"\r\n          />\r\n        </n-form-item>\r\n        \r\n        <n-form-item label=\"Команда\">\r\n          <n-input \r\n            v-model:value=\"localCommand\" \r\n            @blur=\"updateCommand\"\r\n          />\r\n        </n-form-item>\r\n\r\n        <template v-if=\"nodeParams.length > 0\">\r\n          <n-form-item \r\n            v-for=\"param in nodeParams\" \r\n            :key=\"param.name\"\r\n            :label=\"param.name\"\r\n          >\r\n            <!-- Enum Params -->\r\n            <n-select\r\n              v-if=\"param.type === 'string' && param.enum\"\r\n              v-model:value=\"localParams[param.name]\"\r\n              :options=\"param.enum.map(e => ({ label: e, value: e }))\"\r\n            />\r\n            \r\n            <!-- String Params -->\r\n            <n-input\r\n              v-else-if=\"param.type === 'string'\"\r\n              v-model:value=\"localParams[param.name]\"\r\n            />\r\n            \r\n            <!-- Boolean Params -->\r\n            <n-switch\r\n              v-else-if=\"param.type === 'boolean'\"\r\n              v-model:value=\"localParams[param.name]\"\r\n            />\r\n            \r\n            <!-- Number Params -->\r\n            <n-input-number\r\n              v-else-if=\"param.type === 'number'\"\r\n              v-model:value=\"localParams[param.name]\"\r\n            />\r\n          </n-form-item>\r\n        </template>\r\n\r\n        <div style=\"display: flex; justify-content: flex-end; margin-top: 20px\">\r\n          <n-button @click=\"saveAndClose\" type=\"primary\">\r\n            Сохранить\r\n          </n-button>\r\n        </div>\r\n      </n-form>\r\n    </n-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, watch, computed, defineProps, defineEmits } from 'vue';\r\nimport { \r\n  NInput, NButton, NCard, NForm, NFormItem,\r\n  NSelect, NSwitch, NInputNumber \r\n} from 'naive-ui';\r\nimport nodesConfig from '@/types/nodesConfig';\r\n\r\nconst props = defineProps({\r\n  node: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  visible: Boolean,\r\n  x: Number,\r\n  y: Number\r\n});\r\n\r\nconst emit = defineEmits([\r\n  'update:visible', \r\n  'update-label', \r\n  'update-command',\r\n  'update-params'\r\n]);\r\n\r\nconst localLabel = ref('');\r\nconst localCommand = ref('');\r\nconst localParams = ref<Record<string, any>>({});\r\n\r\n// get parameters for the current node\r\nconst nodeParams = computed(() => {\r\n  if (!props.node?.data?.label) return [];\r\n  \r\n  // search in the config\r\n  const [nodeType, operationName] = props.node.data.label.split('_');\r\n  const operations = nodesConfig[nodeType];\r\n  const operation =  operations?.find(op => op.name === operationName);\r\n  if (operation) {\r\n      return operation.params;\r\n    }\r\n  return [];\r\n});\r\n\r\nwatch(() => props.node, (newNode) => {\r\n  if (newNode) {\r\n    localLabel.value = newNode.data.label;\r\n    localCommand.value = newNode.data.command || '';\r\n\r\n    nodeParams.value.forEach(param => {\r\n      localParams.value[param.name] = newNode.data[param.name] !== undefined \r\n        ? newNode.data[param.name] \r\n        : param.default;\r\n    });\r\n  }\r\n}, { immediate: true });\r\n\r\nconst positionStyle = computed(() => ({\r\n  left: `${props.x}px`,\r\n  top: `${props.y}px`,\r\n  position: 'absolute',\r\n  zIndex: 1000\r\n}));\r\n\r\nconst saveAndClose = () => {\r\n  emit('update-label', localLabel.value);\r\n  emit('update-command', localCommand.value);\r\n  \r\n  const paramsToUpdate: Record<string, any> = {};\r\n  nodeParams.value.forEach(param => {\r\n    if (localParams.value[param.name] !== undefined) {\r\n      paramsToUpdate[param.name] = localParams.value[param.name];\r\n    }\r\n  });\r\n  \r\n  emit('update-params', paramsToUpdate);\r\n  emit('update:visible', false);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.node-context-menu {\r\n  background: white;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.n-form-item {\r\n  margin-bottom: 16px;\r\n}\r\n</style>","import script from \"./NodeContextMenu.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./NodeContextMenu.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./NodeContextMenu.vue?vue&type=style&index=0&id=28e50b78&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28e50b78\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed } from 'vue';\r\nimport { NDropdown } from 'naive-ui';\r\nimport nodesConfig from '../types/nodesConfig'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'NodeSelectionMenu',\n  props: {\r\n  show: Boolean,\r\n  position: {\r\n    type: Object,\r\n    default: () => ({ x: 0, y: 0 })\r\n  }\r\n},\n  emits: ['select', 'update:show'],\n  setup(__props, { emit: __emit }) {\n\r\nconst props = __props;\r\n\r\nconst emit = __emit;\r\n\r\nconst showMenu = computed({\r\n  get: () => props.show,\r\n  set: (value) => emit('update:show', value)\r\n});\r\n\r\nconst nodeOptions = computed(() => {\r\n  const options = [];\r\n  \r\n  for (const [section, nodes] of Object.entries(nodesConfig)) {\r\n    options.push({\r\n      type: 'group',\r\n      label: section.toUpperCase(),\r\n      key: section,\r\n      children: nodes.map(node => ({\r\n        label: `${section}_${node.name}`,\r\n        key: `${section}_${node.name}`,\r\n        nodeData: node\r\n      }))\r\n    });\r\n  }\r\n  \r\n  return options;\r\n});\r\n\r\nconst handleNodeSelect = (key: string, option: any) => {\r\n  emit('select', {\r\n    label: key,\r\n    params: option.nodeData.params\r\n  });\r\n  showMenu.value = false;\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NDropdown), {\n    show: showMenu.value,\n    \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => ((showMenu).value = $event)),\n    options: nodeOptions.value,\n    x: __props.position.x,\n    y: __props.position.y,\n    placement: \"bottom-start\",\n    trigger: \"manual\",\n    onSelect: handleNodeSelect\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [\n      _createElementVNode(\"div\", { style: {\"position\":\"absolute\",\"left\":\"-9999px\"} }, null, -1)\n    ])),\n    _: 1,\n    __: [1]\n  }, 8, [\"show\", \"options\", \"x\", \"y\"]))\n}\n}\n\n})","<template>\r\n  <n-dropdown\r\n    v-model:show=\"showMenu\"\r\n    :options=\"nodeOptions\"\r\n    :x=\"position.x\"\r\n    :y=\"position.y\"\r\n    placement=\"bottom-start\"\r\n    trigger=\"manual\"\r\n    @select=\"handleNodeSelect\"\r\n  >\r\n    <div style=\"position: absolute; left: -9999px\"></div>\r\n  </n-dropdown>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, defineEmits } from 'vue';\r\nimport { NDropdown } from 'naive-ui';\r\nimport nodesConfig from '../types/nodesConfig'\r\n\r\nconst props = defineProps({\r\n  show: Boolean,\r\n  position: {\r\n    type: Object,\r\n    default: () => ({ x: 0, y: 0 })\r\n  }\r\n});\r\n\r\nconst emit = defineEmits(['select', 'update:show']);\r\n\r\nconst showMenu = computed({\r\n  get: () => props.show,\r\n  set: (value) => emit('update:show', value)\r\n});\r\n\r\nconst nodeOptions = computed(() => {\r\n  const options = [];\r\n  \r\n  for (const [section, nodes] of Object.entries(nodesConfig)) {\r\n    options.push({\r\n      type: 'group',\r\n      label: section.toUpperCase(),\r\n      key: section,\r\n      children: nodes.map(node => ({\r\n        label: `${section}_${node.name}`,\r\n        key: `${section}_${node.name}`,\r\n        nodeData: node\r\n      }))\r\n    });\r\n  }\r\n  \r\n  return options;\r\n});\r\n\r\nconst handleNodeSelect = (key: string, option: any) => {\r\n  emit('select', {\r\n    label: key,\r\n    params: option.nodeData.params\r\n  });\r\n  showMenu.value = false;\r\n};\r\n</script>","import script from \"./NodeSelectionMenu.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./NodeSelectionMenu.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { ref, computed, onMounted } from 'vue';\r\nimport { VueFlow, Position, useVueFlow, addEdge, Edge } from '@vue-flow/core';\r\nimport '@vue-flow/core/dist/style.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { NLayoutContent } from 'naive-ui';\r\n\r\nimport ToolPanel from './ToolPanel.vue';\r\nimport NodeContextMenu from './NodeContextMenu.vue';\r\nimport NodeSelectionMenu from './NodeSelectionMenu.vue';\r\nimport CustomNode from '../types';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'FlowBuilder',\n  setup(__props) {\n\r\nconst elements = ref<Array<CustomNode | Edge>>([\r\n  { \r\n    id: 'start', \r\n    type: 'input', \r\n    data: { label: 'start', command: '', processFunction: async () => { console.log('start'); await delay(1000); } }, \r\n    position: { x: 50, y: 50 },\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#d0d0d0', \r\n      color: 'black',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: true,\r\n    deletable: false\r\n  },\r\n  { \r\n    id: 'end', \r\n    type: 'output', \r\n    data: { label: 'end', command: '', processFunction: async () => { console.log('end'); await delay(1000); } }, \r\n    position: { x: 500, y: 400 },\r\n    sourcePosition: Position.Top,\r\n    style: { \r\n      backgroundColor: '#454545', \r\n      color: 'white',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: true,\r\n    deletable: false\r\n  },\r\n]);\r\n\r\nconst { \r\n  removeEdges, \r\n  addNodes, \r\n  updateNode, \r\n  removeNodes,\r\n  getEdges\r\n} = useVueFlow();\r\n\r\nconst isRunning = ref(false);\r\nconst isStopped = ref(false);\r\nconst currentStep = ref<string | null>(null);\r\nconst selectedNode = ref<CustomNode | null>(null);\r\nconst selectedEdge = ref<Edge | null>(null);\r\nconst connectionMode = ref(false);\r\nconst flowWrapper = ref<HTMLElement | null>(null);\r\n\r\nconst contextMenuNode = ref<CustomNode | null>(null);\r\nconst showContextMenu = ref(false);\r\nconst contextMenuPosition = ref({ x: 0, y: 0 })\r\n\r\nconst showNodeMenu = ref(false);\r\nconst nodeMenuPosition = ref({ x: 0, y: 0 });\r\n\r\nconst stepCount = computed(() => {\r\n  let count = 0;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    count++;\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  return count;\r\n});\r\n\r\nconst delay = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n\r\nconst nodeClass = (node: CustomNode) => {\r\n  if (node.type === 'input') return 'input-node';\r\n  if (node.type === 'output') return 'output-node';\r\n  return 'default-node';\r\n};\r\n\r\nconst onPaneReady = ({ pane }: { pane?: HTMLElement }) => {\r\n  if (pane) {\r\n    pane.tabIndex = 0;\r\n    pane.focus();\r\n  }\r\n};\r\n\r\nconst handleKeyDown = (event: KeyboardEvent) => {\r\n  if ((event.ctrlKey || event.metaKey) && \r\n  (event.key === 'x' || event.key === 'ч')) {\r\n    event.preventDefault();\r\n    deleteSelectedNodeWithEdges();\r\n    deleteSelectedEdge();\r\n  }\r\n  if ((event.ctrlKey || event.metaKey) &&\r\n  (event.key === 'a' || event.key === 'ф')) {\r\n    event.preventDefault();\r\n    showNodeSelectionMenu();\r\n  }\r\n};\r\n\r\nconst deleteSelectedNodeWithEdges = () => {\r\n  if (!selectedNode.value || isProtectedNode(selectedNode.value.id)) {\r\n    console.warn('Нет выбранной ноды для удаления или нода защищена');\r\n    return;\r\n  }\r\n\r\n  console.log('Удаление ноды:', selectedNode.value.id);\r\n  \r\n  const nodeId = selectedNode.value.id;\r\n  \r\n  const edgesToRemove = getEdges.value.filter(\r\n    edge => edge.source === nodeId || edge.target === nodeId\r\n  );\r\n  \r\n  console.log('Связанные edges для удаления:', edgesToRemove);\r\n\r\n  if (edgesToRemove.length > 0) {\r\n    console.log('Удаление edges');\r\n    removeEdges(edgesToRemove);\r\n  }\r\n  \r\n  console.log('Удаление ноды');\r\n  removeNodes([nodeId]);\r\n  \r\n  elements.value = elements.value.filter(\r\n    el => el.id !== nodeId && \r\n    !edgesToRemove.some(edge => edge.id === el.id)\r\n  );\r\n  \r\n  selectedNode.value = null;\r\n  closeContextMenu();\r\n  updateStepNumbers();\r\n  \r\n  console.log('Удаление завершено, текущие элементы:', elements.value);\r\n};\r\n\r\nconst showNodeSelectionMenu = (event?: MouseEvent) => {\r\n  if (event) {\r\n    nodeMenuPosition.value = {\r\n      x: event.clientX,\r\n      y: event.clientY\r\n    };\r\n  } else {\r\n  // If the event is not passed (for example, when called via Ctrl+A),\r\n  // position the menu in the center of the screen\r\n    const centerX = window.innerWidth / 2;\r\n    const centerY = window.innerHeight / 2;\r\n    nodeMenuPosition.value = { x: centerX, y: centerY };\r\n  }\r\n  showNodeMenu.value = true;\r\n};\r\n\r\nconst addNode = (nodeData: { label: string, params: any[] }) => {\r\n  const newNodeId = uuidv4();\r\n  \r\n  // Создаем объект параметров с default значениями\r\n  const params = nodeData.params.reduce((acc, param) => {\r\n    acc[param.name] = param.default !== undefined ? param.default : '';\r\n    return acc;\r\n  }, {} as Record<string, any>);\r\n\r\n  const newNode: CustomNode = {\r\n    id: newNodeId,\r\n    data: { \r\n      label: nodeData.label,\r\n      command: '',\r\n      ...params, // Добавляем параметры в data ноды\r\n      processFunction: async () => { \r\n        console.log(`Выполняется шаг ${newNodeId}`); \r\n        await delay(1000); \r\n      } \r\n    },\r\n    position: { x: 100 + stepCount.value * 100, y: 150 },\r\n    targetPosition: Position.Top,\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#2196F3', \r\n      color: 'white',\r\n      borderRadius: '50%',\r\n      width: '80px',\r\n      height: '80px'\r\n    }\r\n  };\r\n\r\n  elements.value.push(newNode);\r\n  addNodes([newNode]);\r\n  showNodeMenu.value = false;\r\n};\r\n\r\nconst onConnect = (params: any) => {\r\n  const newEdge = {\r\n    id: `edge-${params.source}-${params.target}`,\r\n    source: params.source,\r\n    target: params.target,\r\n  };\r\n  elements.value = addEdge(newEdge, elements.value);\r\n  connectionMode.value = false;\r\n  updateStepNumbers();\r\n};\r\n\r\nconst onNodeClick = (event: any) => {\r\n  if (connectionMode.value) return;\r\n  if (isProtectedNode(event.node.id)) {\r\n    selectedNode.value = null;\r\n    selectedEdge.value = null;\r\n    closeContextMenu();\r\n    return;\r\n  }\r\n  selectedNode.value = event.node;\r\n  selectedEdge.value = null;\r\n  closeContextMenu();\r\n};\r\n\r\nconst onEdgeClick = (event: any) => {\r\n  console.log('Edge click event', event)\r\n  selectedNode.value = null;\r\n  selectedEdge.value = event.edge;\r\n  closeContextMenu();\r\n};\r\n\r\nconst onUpdateEdge = (event: any, edge: Edge) => {\r\n  console.log('onUpdateEdge', edge);\r\n}\r\n\r\nconst onNodeContextMenu = (event: { event: MouseEvent, node: CustomNode }) => {\r\n  if (!event?.node || isProtectedNode(event.node.id)) return;\r\n  \r\n  event.event.preventDefault();\r\n  \r\n  selectedNode.value = event.node;\r\n  contextMenuNode.value = event.node;\r\n  \r\n  // get the position relative to the VueFlow container\r\n  const flowWrapperRect = flowWrapper.value?.getBoundingClientRect();\r\n  if (!flowWrapperRect) return;\r\n  \r\n  contextMenuPosition.value = {\r\n    x: event.event.clientX - flowWrapperRect.left,\r\n    y: event.event.clientY - flowWrapperRect.top\r\n  };\r\n  \r\n  showContextMenu.value = true;\r\n  \r\n  console.log('Menu selectedNode.value:', selectedNode.value);\r\n  console.log('Menu position:', contextMenuPosition.value);\r\n};\r\n\r\nconst onPaneClick = () => {\r\n  closeContextMenu();\r\n};\r\n\r\nconst closeContextMenu = () => {\r\n  contextMenuNode.value = null;\r\n};\r\n\r\nconst updateNodeLabel = (newLabel: string) => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      (elements.value[nodeIndex] as CustomNode).data.label = newLabel;\r\n      updateNode(selectedNode.value.id, elements.value[nodeIndex]);\r\n    }\r\n  }\r\n};\r\n\r\nconst updateNodeCommand = (newCommand: string) => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      (elements.value[nodeIndex] as CustomNode).data.command = newCommand;\r\n      updateNode(selectedNode.value.id, elements.value[nodeIndex]);\r\n    }\r\n  }\r\n};\r\n\r\nconst updateNodeParams = (newParams: Record<string, any>) => {\r\n  if (selectedNode.value) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      // Обновляем параметры в данных ноды\r\n      const node = elements.value[nodeIndex] as CustomNode;\r\n      Object.keys(newParams).forEach(key => {\r\n        node.data[key] = newParams[key];\r\n      });\r\n      updateNode(node.id, node);\r\n    }\r\n  }\r\n};\r\n\r\nconst deleteSelectedEdge = () => {\r\n  if (selectedEdge.value) {\r\n    removeEdges([selectedEdge.value]);\r\n    elements.value = elements.value.filter(el => el.id !== selectedEdge.value?.id);\r\n    selectedEdge.value = null;\r\n    updateStepNumbers();\r\n  }\r\n}\r\n\r\nconst updateStepNumbers = () => {\r\n  let stepNumber = 1;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      console.log('TEST stepNumber:', stepNumber)\r\n      // node.data.label = `Шаг ${stepNumber}`;\r\n      updateNode(node.id, node);\r\n      stepNumber++;\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nconst startFlow = async () => {\r\n  isRunning.value = true;\r\n  isStopped.value = false;\r\n  currentStep.value = 'start';\r\n\r\n  try {\r\n    await executeStep('start');\r\n    let nextNode = getNextNode('start');\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst stopFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = true;\r\n};\r\n\r\nconst continueFlow = async () => {\r\n  if (!currentStep.value) return;\r\n\r\n  isStopped.value = false;\r\n  isRunning.value = true;\r\n\r\n  try {\r\n    let nextNode = getNextNode(currentStep.value);\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    isStopped.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst resetFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = false;\r\n  currentStep.value = null;\r\n};\r\n\r\nconst executeStep = async (nodeId: string) => {\r\n  const node = elements.value.find((el: any) => el.id === nodeId) as CustomNode;\r\n  if (node && node.data && node.data.processFunction) {\r\n    console.log(`Запуск шага: ${node.data.label}`);\r\n    await node.data.processFunction();\r\n    console.log(`Шаг завершен: ${node.data.label}`);\r\n  }\r\n};\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = elements.value.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nonMounted(() => {\r\n  if (flowWrapper.value) {\r\n    flowWrapper.value.focus();\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"flow-container\",\n    tabindex: \"0\",\n    onKeydown: handleKeyDown\n  }, [\n    _createVNode(_unref(NLayoutContent), null, {\n      default: _withCtx(() => [\n        _createVNode(ToolPanel, {\n          elements: elements.value,\n          \"is-running\": isRunning.value,\n          \"is-stopped\": isStopped.value,\n          \"selected-node\": selectedNode.value,\n          \"selected-edge\": selectedEdge.value,\n          onAddNode: showNodeSelectionMenu,\n          onStartFlow: startFlow,\n          onStopFlow: stopFlow,\n          onContinueFlow: continueFlow,\n          onResetFlow: resetFlow,\n          onUpdateNodeLabel: updateNodeLabel,\n          onUpdateNodeCommand: updateNodeCommand,\n          onDeleteSelectedEdge: deleteSelectedEdge\n        }, null, 8, [\"elements\", \"is-running\", \"is-stopped\", \"selected-node\", \"selected-edge\"]),\n        _createElementVNode(\"div\", {\n          class: \"flow-wrapper\",\n          ref_key: \"flowWrapper\",\n          ref: flowWrapper\n        }, [\n          _createVNode(_unref(VueFlow), {\n            modelValue: elements.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((elements).value = $event)),\n            style: { width: '100%', height: '88vh', background: '#fcfcfc' },\n            onNodeClick: onNodeClick,\n            onEdgeClick: onEdgeClick,\n            onUpdateEdge: onUpdateEdge,\n            onNodeContextMenu: onNodeContextMenu,\n            onPaneClick: onPaneClick,\n            \"connection-mode\": connectionMode.value,\n            onConnect: onConnect,\n            onPaneReady: onPaneReady,\n            \"node-class\": nodeClass\n          }, null, 8, [\"modelValue\", \"connection-mode\"]),\n          (showContextMenu.value && contextMenuNode.value)\n            ? (_openBlock(), _createBlock(NodeContextMenu, {\n                key: 0,\n                node: contextMenuNode.value,\n                visible: showContextMenu.value,\n                x: contextMenuPosition.value.x,\n                y: contextMenuPosition.value.y,\n                \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => (showContextMenu.value = $event)),\n                onUpdateLabel: updateNodeLabel,\n                onUpdateCommand: updateNodeCommand,\n                onUpdateParams: updateNodeParams\n              }, null, 8, [\"node\", \"visible\", \"x\", \"y\"]))\n            : _createCommentVNode(\"\", true),\n          (showNodeMenu.value)\n            ? (_openBlock(), _createBlock(NodeSelectionMenu, {\n                key: 1,\n                show: showNodeMenu.value,\n                position: nodeMenuPosition.value,\n                \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => (showNodeMenu.value = $event)),\n                onSelect: addNode\n              }, null, 8, [\"show\", \"position\"]))\n            : _createCommentVNode(\"\", true)\n        ], 512)\n      ]),\n      _: 1\n    })\n  ], 32))\n}\n}\n\n})","<template>\r\n  <div class=\"flow-container\" tabindex=\"0\" @keydown=\"handleKeyDown\">\r\n    <n-layout-content>\r\n      <ToolPanel\r\n        :elements=\"elements\"\r\n        :is-running=\"isRunning\"\r\n        :is-stopped=\"isStopped\"\r\n        :selected-node=\"selectedNode\"\r\n        :selected-edge=\"selectedEdge\"\r\n        @add-node=\"showNodeSelectionMenu\"\r\n        @start-flow=\"startFlow\"\r\n        @stop-flow=\"stopFlow\"\r\n        @continue-flow=\"continueFlow\"\r\n        @reset-flow=\"resetFlow\"\r\n        @update-node-label=\"updateNodeLabel\"\r\n        @update-node-command=\"updateNodeCommand\"\r\n        @delete-selected-edge=\"deleteSelectedEdge\"\r\n      />\r\n\r\n      <div class=\"flow-wrapper\" ref=\"flowWrapper\">\r\n        <VueFlow\r\n          v-model=\"elements\"\r\n          :style=\"{ width: '100%', height: '88vh', background: '#fcfcfc' }\"\r\n          @node-click=\"onNodeClick\"\r\n          @edge-click=\"onEdgeClick\"\r\n          @update-edge=\"onUpdateEdge\"\r\n          @nodeContextMenu=\"onNodeContextMenu\"\r\n          @pane-click=\"onPaneClick\"\r\n          :connection-mode=\"connectionMode\"\r\n          @connect=\"onConnect\"\r\n          @pane-ready=\"onPaneReady\"\r\n          :node-class=\"nodeClass\"\r\n        >\r\n        </VueFlow>\r\n        <NodeContextMenu\r\n          v-if=\"showContextMenu && contextMenuNode\"\r\n          :node=\"contextMenuNode\"\r\n          :visible=\"showContextMenu\"\r\n          :x=\"contextMenuPosition.x\"\r\n          :y=\"contextMenuPosition.y\"\r\n          @update:visible=\"showContextMenu = $event\"\r\n          @update-label=\"updateNodeLabel\"\r\n          @update-command=\"updateNodeCommand\"\r\n          @update-params=\"updateNodeParams\"\r\n        />\r\n        <NodeSelectionMenu\r\n          v-if=\"showNodeMenu\"\r\n          :show=\"showNodeMenu\"\r\n          :position=\"nodeMenuPosition\"\r\n          @update:show=\"showNodeMenu = $event\"\r\n          @select=\"addNode\"\r\n        />\r\n      </div>\r\n    </n-layout-content>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { VueFlow, Position, useVueFlow, addEdge, Edge } from '@vue-flow/core';\r\nimport '@vue-flow/core/dist/style.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { NLayoutContent } from 'naive-ui';\r\n\r\nimport ToolPanel from './ToolPanel.vue';\r\nimport NodeContextMenu from './NodeContextMenu.vue';\r\nimport NodeSelectionMenu from './NodeSelectionMenu.vue';\r\nimport CustomNode from '../types';\r\n\r\nconst elements = ref<Array<CustomNode | Edge>>([\r\n  { \r\n    id: 'start', \r\n    type: 'input', \r\n    data: { label: 'start', command: '', processFunction: async () => { console.log('start'); await delay(1000); } }, \r\n    position: { x: 50, y: 50 },\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#d0d0d0', \r\n      color: 'black',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: true,\r\n    deletable: false\r\n  },\r\n  { \r\n    id: 'end', \r\n    type: 'output', \r\n    data: { label: 'end', command: '', processFunction: async () => { console.log('end'); await delay(1000); } }, \r\n    position: { x: 500, y: 400 },\r\n    sourcePosition: Position.Top,\r\n    style: { \r\n      backgroundColor: '#454545', \r\n      color: 'white',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: true,\r\n    deletable: false\r\n  },\r\n]);\r\n\r\nconst { \r\n  removeEdges, \r\n  addNodes, \r\n  updateNode, \r\n  removeNodes,\r\n  getEdges\r\n} = useVueFlow();\r\n\r\nconst isRunning = ref(false);\r\nconst isStopped = ref(false);\r\nconst currentStep = ref<string | null>(null);\r\nconst selectedNode = ref<CustomNode | null>(null);\r\nconst selectedEdge = ref<Edge | null>(null);\r\nconst connectionMode = ref(false);\r\nconst flowWrapper = ref<HTMLElement | null>(null);\r\n\r\nconst contextMenuNode = ref<CustomNode | null>(null);\r\nconst showContextMenu = ref(false);\r\nconst contextMenuPosition = ref({ x: 0, y: 0 })\r\n\r\nconst showNodeMenu = ref(false);\r\nconst nodeMenuPosition = ref({ x: 0, y: 0 });\r\n\r\nconst stepCount = computed(() => {\r\n  let count = 0;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    count++;\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  return count;\r\n});\r\n\r\nconst delay = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n\r\nconst nodeClass = (node: CustomNode) => {\r\n  if (node.type === 'input') return 'input-node';\r\n  if (node.type === 'output') return 'output-node';\r\n  return 'default-node';\r\n};\r\n\r\nconst onPaneReady = ({ pane }: { pane?: HTMLElement }) => {\r\n  if (pane) {\r\n    pane.tabIndex = 0;\r\n    pane.focus();\r\n  }\r\n};\r\n\r\nconst handleKeyDown = (event: KeyboardEvent) => {\r\n  if ((event.ctrlKey || event.metaKey) && \r\n  (event.key === 'x' || event.key === 'ч')) {\r\n    event.preventDefault();\r\n    deleteSelectedNodeWithEdges();\r\n    deleteSelectedEdge();\r\n  }\r\n  if ((event.ctrlKey || event.metaKey) &&\r\n  (event.key === 'a' || event.key === 'ф')) {\r\n    event.preventDefault();\r\n    showNodeSelectionMenu();\r\n  }\r\n};\r\n\r\nconst deleteSelectedNodeWithEdges = () => {\r\n  if (!selectedNode.value || isProtectedNode(selectedNode.value.id)) {\r\n    console.warn('Нет выбранной ноды для удаления или нода защищена');\r\n    return;\r\n  }\r\n\r\n  console.log('Удаление ноды:', selectedNode.value.id);\r\n  \r\n  const nodeId = selectedNode.value.id;\r\n  \r\n  const edgesToRemove = getEdges.value.filter(\r\n    edge => edge.source === nodeId || edge.target === nodeId\r\n  );\r\n  \r\n  console.log('Связанные edges для удаления:', edgesToRemove);\r\n\r\n  if (edgesToRemove.length > 0) {\r\n    console.log('Удаление edges');\r\n    removeEdges(edgesToRemove);\r\n  }\r\n  \r\n  console.log('Удаление ноды');\r\n  removeNodes([nodeId]);\r\n  \r\n  elements.value = elements.value.filter(\r\n    el => el.id !== nodeId && \r\n    !edgesToRemove.some(edge => edge.id === el.id)\r\n  );\r\n  \r\n  selectedNode.value = null;\r\n  closeContextMenu();\r\n  updateStepNumbers();\r\n  \r\n  console.log('Удаление завершено, текущие элементы:', elements.value);\r\n};\r\n\r\nconst showNodeSelectionMenu = (event?: MouseEvent) => {\r\n  if (event) {\r\n    nodeMenuPosition.value = {\r\n      x: event.clientX,\r\n      y: event.clientY\r\n    };\r\n  } else {\r\n  // If the event is not passed (for example, when called via Ctrl+A),\r\n  // position the menu in the center of the screen\r\n    const centerX = window.innerWidth / 2;\r\n    const centerY = window.innerHeight / 2;\r\n    nodeMenuPosition.value = { x: centerX, y: centerY };\r\n  }\r\n  showNodeMenu.value = true;\r\n};\r\n\r\nconst addNode = (nodeData: { label: string, params: any[] }) => {\r\n  const newNodeId = uuidv4();\r\n  \r\n  // Создаем объект параметров с default значениями\r\n  const params = nodeData.params.reduce((acc, param) => {\r\n    acc[param.name] = param.default !== undefined ? param.default : '';\r\n    return acc;\r\n  }, {} as Record<string, any>);\r\n\r\n  const newNode: CustomNode = {\r\n    id: newNodeId,\r\n    data: { \r\n      label: nodeData.label,\r\n      command: '',\r\n      ...params, // Добавляем параметры в data ноды\r\n      processFunction: async () => { \r\n        console.log(`Выполняется шаг ${newNodeId}`); \r\n        await delay(1000); \r\n      } \r\n    },\r\n    position: { x: 100 + stepCount.value * 100, y: 150 },\r\n    targetPosition: Position.Top,\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#2196F3', \r\n      color: 'white',\r\n      borderRadius: '50%',\r\n      width: '80px',\r\n      height: '80px'\r\n    }\r\n  };\r\n\r\n  elements.value.push(newNode);\r\n  addNodes([newNode]);\r\n  showNodeMenu.value = false;\r\n};\r\n\r\nconst onConnect = (params: any) => {\r\n  const newEdge = {\r\n    id: `edge-${params.source}-${params.target}`,\r\n    source: params.source,\r\n    target: params.target,\r\n  };\r\n  elements.value = addEdge(newEdge, elements.value);\r\n  connectionMode.value = false;\r\n  updateStepNumbers();\r\n};\r\n\r\nconst onNodeClick = (event: any) => {\r\n  if (connectionMode.value) return;\r\n  if (isProtectedNode(event.node.id)) {\r\n    selectedNode.value = null;\r\n    selectedEdge.value = null;\r\n    closeContextMenu();\r\n    return;\r\n  }\r\n  selectedNode.value = event.node;\r\n  selectedEdge.value = null;\r\n  closeContextMenu();\r\n};\r\n\r\nconst onEdgeClick = (event: any) => {\r\n  console.log('Edge click event', event)\r\n  selectedNode.value = null;\r\n  selectedEdge.value = event.edge;\r\n  closeContextMenu();\r\n};\r\n\r\nconst onUpdateEdge = (event: any, edge: Edge) => {\r\n  console.log('onUpdateEdge', edge);\r\n}\r\n\r\nconst onNodeContextMenu = (event: { event: MouseEvent, node: CustomNode }) => {\r\n  if (!event?.node || isProtectedNode(event.node.id)) return;\r\n  \r\n  event.event.preventDefault();\r\n  \r\n  selectedNode.value = event.node;\r\n  contextMenuNode.value = event.node;\r\n  \r\n  // get the position relative to the VueFlow container\r\n  const flowWrapperRect = flowWrapper.value?.getBoundingClientRect();\r\n  if (!flowWrapperRect) return;\r\n  \r\n  contextMenuPosition.value = {\r\n    x: event.event.clientX - flowWrapperRect.left,\r\n    y: event.event.clientY - flowWrapperRect.top\r\n  };\r\n  \r\n  showContextMenu.value = true;\r\n  \r\n  console.log('Menu selectedNode.value:', selectedNode.value);\r\n  console.log('Menu position:', contextMenuPosition.value);\r\n};\r\n\r\nconst onPaneClick = () => {\r\n  closeContextMenu();\r\n};\r\n\r\nconst closeContextMenu = () => {\r\n  contextMenuNode.value = null;\r\n};\r\n\r\nconst updateNodeLabel = (newLabel: string) => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      (elements.value[nodeIndex] as CustomNode).data.label = newLabel;\r\n      updateNode(selectedNode.value.id, elements.value[nodeIndex]);\r\n    }\r\n  }\r\n};\r\n\r\nconst updateNodeCommand = (newCommand: string) => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      (elements.value[nodeIndex] as CustomNode).data.command = newCommand;\r\n      updateNode(selectedNode.value.id, elements.value[nodeIndex]);\r\n    }\r\n  }\r\n};\r\n\r\nconst updateNodeParams = (newParams: Record<string, any>) => {\r\n  if (selectedNode.value) {\r\n    const nodeIndex = elements.value.findIndex(el => el.id === selectedNode.value?.id);\r\n    if (nodeIndex !== -1) {\r\n      // Обновляем параметры в данных ноды\r\n      const node = elements.value[nodeIndex] as CustomNode;\r\n      Object.keys(newParams).forEach(key => {\r\n        node.data[key] = newParams[key];\r\n      });\r\n      updateNode(node.id, node);\r\n    }\r\n  }\r\n};\r\n\r\nconst deleteSelectedEdge = () => {\r\n  if (selectedEdge.value) {\r\n    removeEdges([selectedEdge.value]);\r\n    elements.value = elements.value.filter(el => el.id !== selectedEdge.value?.id);\r\n    selectedEdge.value = null;\r\n    updateStepNumbers();\r\n  }\r\n}\r\n\r\nconst updateStepNumbers = () => {\r\n  let stepNumber = 1;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      console.log('TEST stepNumber:', stepNumber)\r\n      // node.data.label = `Шаг ${stepNumber}`;\r\n      updateNode(node.id, node);\r\n      stepNumber++;\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nconst startFlow = async () => {\r\n  isRunning.value = true;\r\n  isStopped.value = false;\r\n  currentStep.value = 'start';\r\n\r\n  try {\r\n    await executeStep('start');\r\n    let nextNode = getNextNode('start');\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst stopFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = true;\r\n};\r\n\r\nconst continueFlow = async () => {\r\n  if (!currentStep.value) return;\r\n\r\n  isStopped.value = false;\r\n  isRunning.value = true;\r\n\r\n  try {\r\n    let nextNode = getNextNode(currentStep.value);\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    isStopped.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst resetFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = false;\r\n  currentStep.value = null;\r\n};\r\n\r\nconst executeStep = async (nodeId: string) => {\r\n  const node = elements.value.find((el: any) => el.id === nodeId) as CustomNode;\r\n  if (node && node.data && node.data.processFunction) {\r\n    console.log(`Запуск шага: ${node.data.label}`);\r\n    await node.data.processFunction();\r\n    console.log(`Шаг завершен: ${node.data.label}`);\r\n  }\r\n};\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = elements.value.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nonMounted(() => {\r\n  if (flowWrapper.value) {\r\n    flowWrapper.value.focus();\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.flow-container {\r\n  font-family: sans-serif;\r\n  height: 100vh;\r\n  outline: none;\r\n}\r\n\r\n.flow-wrapper {\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  outline: none;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.node-context-menu {\r\n  position: absolute;\r\n}\r\n\r\n.node-edit-form {\r\n  padding: 20px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.vue-flow__node {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.vue-flow__node.input-node {\r\n  background-color: #d0d0d0 !important;\r\n  border-radius: 10px !important;\r\n  width: 120px !important;\r\n  height: 60px !important;\r\n}\r\n\r\n.vue-flow__node.output-node {\r\n  background-color: #454545 !important;\r\n  border-radius: 10px !important;\r\n  width: 120px !important;\r\n  height: 60px !important;\r\n}\r\n\r\n.vue-flow__node.default-node {\r\n  background-color: #2196F3 !important;\r\n  border-radius: 50% !important;\r\n  width: 80px !important;\r\n  height: 80px !important;\r\n}\r\n\r\n.vue-flow__node.selected {\r\n  box-shadow: 0 0 0 2px #555;\r\n}\r\n\r\n.vue-flow__edge-path {\r\n  stroke: #555;\r\n  stroke-width: 2;\r\n}\r\n\r\n/* styles for connection handles */\r\n.vue-flow__handle {\r\n  width: 10px;\r\n  height: 7px;\r\n  background-color: #555;\r\n}\r\n\r\n.vue-flow__handle-bottom {\r\n  bottom: -5px;\r\n}\r\n\r\n.vue-flow__handle-top {\r\n  top: -5px;\r\n}\r\n\r\n.vue-flow__handle-left {\r\n  left: -5px;\r\n}\r\n\r\n.vue-flow__handle-right {\r\n  right: -5px;\r\n}\r\n</style>","import script from \"./FlowBuilder.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FlowBuilder.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FlowBuilder.vue?vue&type=style&index=0&id=c67452ac&scoped=true&lang=css\"\nimport \"./FlowBuilder.vue?vue&type=style&index=1&id=c67452ac&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c67452ac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport {\r\n  // NLayoutHeader,\r\n  // NH1,\r\n  // NSpace,\r\n} from 'naive-ui';\r\n  import FlowBuilder from './components/FlowBuilder.vue';\r\n\r\n  import hljs from 'highlight.js/lib/core'\r\n  import javascript from 'highlight.js/lib/languages/javascript'\r\n\r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\r\nhljs.registerLanguage('javascript', javascript);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_n_message_provider = _resolveComponent(\"n-message-provider\")!\n  const _component_n_config_provider = _resolveComponent(\"n-config-provider\")!\n\n  return (_openBlock(), _createBlock(_component_n_config_provider, { hljs: _unref(hljs) }, {\n    default: _withCtx(() => [\n      _createVNode(_component_n_message_provider, null, {\n        default: _withCtx(() => [\n          _createVNode(FlowBuilder)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"hljs\"]))\n}\n}\n\n})","<template>\r\n  <!-- <n-layout-header bordered>\r\n    <n-space justify=\"space-between\" align=\"center\" style=\"padding: 0 20px\">\r\n      <n-h1 style=\"margin: 0\">Flow Builder</n-h1>\r\n    </n-space>\r\n  </n-layout-header> -->\r\n  <n-config-provider :hljs=\"hljs\">\r\n    <n-message-provider>\r\n      <FlowBuilder />\r\n    </n-message-provider>\r\n  </n-config-provider>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {\r\n  // NLayoutHeader,\r\n  // NH1,\r\n  // NSpace,\r\n} from 'naive-ui';\r\n  import FlowBuilder from './components/FlowBuilder.vue';\r\n\r\n  import hljs from 'highlight.js/lib/core'\r\n  import javascript from 'highlight.js/lib/languages/javascript'\r\n\r\n  hljs.registerLanguage('javascript', javascript);\r\n</script>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export default {\r\n  beforeMount(el, binding) {\r\n    el.clickOutsideEvent = function(event) {\r\n      if (!(el === event.target || el.contains(event.target))) {\r\n        binding.value(event);\r\n      }\r\n    };\r\n    document.body.addEventListener('click', el.clickOutsideEvent);\r\n  },\r\n  unmounted(el) {\r\n    document.body.removeEventListener('click', el.clickOutsideEvent);\r\n  }\r\n};","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport clickOutside from './directives/clickOutside';\r\nimport naive from 'naive-ui';\r\n\r\nconst app = createApp(App);\r\napp.directive('click-outside', clickOutside);\r\napp.use(naive)\r\n\r\napp.mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkflow_builder\"] = self[\"webpackChunkflow_builder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8707); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["pathsData","question","d","fill","settings","plus","play","pause","delete","refresh","code","download","edit","props","size","type","Number","String","default","color","viewBox","paths","Array","required","setup","h","xmlns","width","height","focusable","map","pathAttrs","__exports__","_hoisted_1","class","_defineComponent","__name","elements","isRunning","Boolean","isStopped","selectedNode","Object","selectedEdge","__props","getEdges","useVueFlow","QuestionIcon","CustomIcon","PlusIcon","PlayIcon","PauseIcon","DeleteIcon","RefreshIcon","CodeIcon","DownloadIcon","EditIcon","flowName","ref","flowDescription","daguYaml","isGraphValid","computed","visited","Set","currentNode","has","add","edgesFromCurrent","value","filter","e","source","length","target","getNextNode","nodeId","edges","el","generateDAGUYaml","steps","nextNode","node","find","n","id","isProtectedNode","push","name","data","label","command","daguConfig","description","YAML","downloadDAGUYaml","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","replace","body","appendChild","click","removeChild","revokeObjectURL","showHints","showDaguYaml","_ctx","_cache","_component_n_text","_resolveComponent","_openBlock","_createElementBlock","_createVNode","_unref","NSpace","justify","align","style","_withCtx","strong","_createTextVNode","_toDisplayString","_","NPopover","trigger","NButton","text","NIcon","NCard","title","NForm","NFormItem","path","NInput","$event","placeholder","onClick","$emit","circle","icon","disabled","_createBlock","key","_createCommentVNode","show","ghost","__","NCode","language","NList","NListItem","_createElementVNode","config","proc","params","enum","bx24","visible","x","y","emits","emit","__emit","localLabel","localCommand","localParams","nodeParams","nodeType","operationName","split","operations","nodesConfig","operation","op","watch","newNode","forEach","param","undefined","immediate","positionStyle","left","top","position","zIndex","saveAndClose","paramsToUpdate","_normalizeStyle","onBlur","updateLabel","updateCommand","_Fragment","_renderList","NSelect","options","NSwitch","NInputNumber","showMenu","get","set","nodeOptions","section","nodes","entries","toUpperCase","children","nodeData","handleNodeSelect","option","NDropdown","placement","onSelect","processFunction","async","console","log","delay","sourcePosition","Position","Bottom","backgroundColor","borderRadius","draggable","selectable","deletable","Top","removeEdges","addNodes","updateNode","removeNodes","currentStep","connectionMode","flowWrapper","contextMenuNode","showContextMenu","contextMenuPosition","showNodeMenu","nodeMenuPosition","stepCount","count","ms","Promise","res","setTimeout","nodeClass","onPaneReady","pane","tabIndex","focus","handleKeyDown","event","ctrlKey","metaKey","preventDefault","deleteSelectedNodeWithEdges","deleteSelectedEdge","showNodeSelectionMenu","warn","edgesToRemove","edge","some","closeContextMenu","updateStepNumbers","clientX","clientY","centerX","window","innerWidth","centerY","innerHeight","addNode","newNodeId","uuidv4","reduce","acc","targetPosition","onConnect","newEdge","addEdge","onNodeClick","onEdgeClick","onUpdateEdge","onNodeContextMenu","flowWrapperRect","getBoundingClientRect","onPaneClick","updateNodeLabel","newLabel","nodeIndex","findIndex","updateNodeCommand","newCommand","updateNodeParams","newParams","keys","stepNumber","startFlow","executeStep","error","stopFlow","continueFlow","resetFlow","onMounted","tabindex","onKeydown","NLayoutContent","ToolPanel","onAddNode","onStartFlow","onStopFlow","onContinueFlow","onResetFlow","onUpdateNodeLabel","onUpdateNodeCommand","onDeleteSelectedEdge","ref_key","VueFlow","modelValue","background","NodeContextMenu","onUpdateLabel","onUpdateCommand","onUpdateParams","NodeSelectionMenu","hljs","registerLanguage","javascript","_component_n_message_provider","_component_n_config_provider","FlowBuilder","beforeMount","binding","clickOutsideEvent","contains","addEventListener","unmounted","removeEventListener","app","createApp","App","directive","clickOutside","use","naive","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}