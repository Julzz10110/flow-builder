{"version":3,"file":"js/app.82f3f07a.js","mappings":"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","sources":["webpack://flow-builder/./src/App.vue?2a5e","webpack://flow-builder/./src/App.vue","webpack://flow-builder/./src/App.vue?7ccd","webpack://flow-builder/./src/main.ts","webpack://flow-builder/webpack/bootstrap","webpack://flow-builder/webpack/runtime/chunk loaded","webpack://flow-builder/webpack/runtime/compat get default export","webpack://flow-builder/webpack/runtime/define property getters","webpack://flow-builder/webpack/runtime/global","webpack://flow-builder/webpack/runtime/hasOwnProperty shorthand","webpack://flow-builder/webpack/runtime/jsonp chunk loading","webpack://flow-builder/webpack/startup"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, unref as _unref, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"header-container\" }\nconst _hoisted_2 = { class: \"pipeline-settings\" }\nconst _hoisted_3 = { class: \"settings-row\" }\nconst _hoisted_4 = { class: \"setting-group\" }\nconst _hoisted_5 = { class: \"setting-group\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"dagu-section\"\n}\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = {\n  key: 0,\n  class: \"yaml-preview\"\n}\nconst _hoisted_9 = {\n  key: 0,\n  class: \"hint-tooltip\"\n}\nconst _hoisted_10 = { class: \"controls\" }\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = { key: 0 }\nconst _hoisted_14 = { key: 1 }\n\nimport { ref, computed, onMounted } from 'vue';\r\nimport { VueFlow, Position, useVueFlow, addEdge, Edge, Node } from '@vue-flow/core';\r\nimport '@vue-flow/core/dist/style.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport YAML from 'yaml';\r\n\r\ninterface NodeData {\r\n  label: string;\r\n  command: string;\r\n  processFunction: () => Promise<void>;\r\n}\r\n\r\ninterface CustomNode extends Node<NodeData> {}\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\r\nconst flowName = ref('my_flow');\r\nconst flowDescription = ref('My flow\\'s desciption.');\r\nconst daguYaml = ref('');\r\n\r\nconst elements = ref<Array<CustomNode | Edge>>([\r\n  { \r\n    id: 'start', \r\n    type: 'input', \r\n    data: { label: 'start', command: '', processFunction: async () => { console.log('start'); await delay(1000); } }, \r\n    position: { x: 50, y: 50 },\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#d0d0d0', \r\n      color: 'black',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: false,\r\n    deletable: false\r\n  },\r\n  { \r\n    id: 'end', \r\n    type: 'output', \r\n    data: { label: 'end', command: '', processFunction: async () => { console.log('end'); await delay(1000); } }, \r\n    position: { x: 500, y: 400 },\r\n    sourcePosition: Position.Top,\r\n    style: { \r\n      backgroundColor: '#454545', \r\n      color: 'white',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: false,\r\n    deletable: false\r\n  },\r\n]);\r\n\r\nconst { \r\n  removeEdges, \r\n  addNodes, \r\n  updateNode, \r\n  removeNodes,\r\n  getEdges\r\n} = useVueFlow();\r\n\r\nconst isRunning = ref(false);\r\nconst isStopped = ref(false);\r\nconst currentStep = ref<string | null>(null);\r\nconst selectedNode = ref<CustomNode | null>(null);\r\nconst selectedEdge = ref<Edge | null>(null);\r\nconst connectionMode = ref(false);\r\nconst flowWrapper = ref<HTMLElement | null>(null);\r\nconst showHints = ref(false);\r\n\r\nconst stepCount = computed(() => {\r\n  let count = 0;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    count++;\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  return count;\r\n});\r\n\r\nconst delay = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n\r\nconst isGraphValid = computed(() => {\r\n  const visited = new Set<string>();\r\n  let currentNode: string | null = 'start';\r\n  \r\n  while (currentNode && currentNode !== 'end') {\r\n    if (visited.has(currentNode)) {\r\n      return false;\r\n    }\r\n    visited.add(currentNode);\r\n    \r\n    const edgesFromCurrent = getEdges.value.filter(e => e.source === currentNode);\r\n    if (edgesFromCurrent.length !== 1) {\r\n      return false;\r\n    }\r\n    \r\n    currentNode = edgesFromCurrent[0].target;\r\n  }\r\n  \r\n  return currentNode === 'end';\r\n});\r\n\r\nconst nodeClass = (node: CustomNode) => {\r\n  if (node.type === 'input') return 'input-node';\r\n  if (node.type === 'output') return 'output-node';\r\n  return 'default-node';\r\n};\r\n\r\nconst onPaneReady = ({ pane }: { pane?: HTMLElement }) => {\r\n  if (pane) {\r\n    pane.tabIndex = 0;\r\n    pane.focus();\r\n  }\r\n};\r\n\r\nconst handleKeyDown = (event: KeyboardEvent) => {\r\n  if ((event.ctrlKey || event.metaKey) && \r\n  (event.key === 'x' || event.key === 'ч')) {\r\n    event.preventDefault();\r\n    deleteSelectedNodeWithEdges();\r\n  }\r\n  if ((event.ctrlKey || event.metaKey) &&\r\n  (event.key === 'a' || event.key === 'ф')) {\r\n    event.preventDefault();\r\n    addNode();\r\n  }\r\n};\r\n\r\nconst deleteSelectedNodeWithEdges = () => {\r\n  if (!selectedNode.value || isProtectedNode(selectedNode.value.id)) {\r\n    console.warn('Нет выбранной ноды для удаления или нода защищена');\r\n    return;\r\n  }\r\n\r\n  console.log('Удаление ноды:', selectedNode.value.id);\r\n  \r\n  const nodeId = selectedNode.value.id;\r\n  \r\n  const edgesToRemove = getEdges.value.filter(\r\n    edge => edge.source === nodeId || edge.target === nodeId\r\n  );\r\n  \r\n  console.log('Связанные edges для удаления:', edgesToRemove);\r\n\r\n  if (edgesToRemove.length > 0) {\r\n    console.log('Удаление edges');\r\n    removeEdges(edgesToRemove);\r\n  }\r\n  \r\n  console.log('Удаление ноды');\r\n  removeNodes([nodeId]);\r\n  \r\n  elements.value = elements.value.filter(\r\n    el => el.id !== nodeId && \r\n    !edgesToRemove.some(edge => edge.id === el.id)\r\n  );\r\n  \r\n  selectedNode.value = null;\r\n  updateStepNumbers();\r\n  \r\n  console.log('Удаление завершено, текущие элементы:', elements.value);\r\n};\r\n\r\nconst addNode = () => {\r\n  const newNodeId = uuidv4();\r\n  const newNode: CustomNode = {\r\n    id: newNodeId,\r\n    data: { \r\n      label: `Шаг ${stepCount.value + 1}`, \r\n      command: '',\r\n      processFunction: async () => { \r\n        console.log(`Выполняется шаг ${newNodeId}`); \r\n        await delay(1000); \r\n      } \r\n    },\r\n    position: { x: 100 + stepCount.value * 100, y: 150 },\r\n    targetPosition: Position.Top,\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#2196F3', \r\n      color: 'white',\r\n      borderRadius: '50%',\r\n      width: '80px',\r\n      height: '80px'\r\n    }\r\n  };\r\n  elements.value.push(newNode);\r\n  addNodes([newNode]);\r\n};\r\n\r\nconst onConnect = (params: any) => {\r\n  const newEdge = {\r\n    id: `edge-${params.source}-${params.target}`,\r\n    source: params.source,\r\n    target: params.target,\r\n  };\r\n  elements.value = addEdge(newEdge, elements.value);\r\n  connectionMode.value = false;\r\n  updateStepNumbers();\r\n};\r\n\r\nconst onNodeClick = (event: any) => {\r\n  if (connectionMode.value || isProtectedNode(event.node.id)) return;\r\n  selectedNode.value = event.node;\r\n  selectedEdge.value = null;\r\n};\r\n\r\nconst onEdgeClick = (event: any) => {\r\n  console.log('Edge click event', event)\r\n  selectedNode.value = null;\r\n  selectedEdge.value = event.edge;\r\n};\r\n\r\nconst onEdgeContextMenu = (event: any, edge: Edge) => {\r\n  console.log('TEST edge', edge)\r\n  event.preventDefault();\r\n};\r\n\r\nconst onUpdateEdge = (event: any, edge: Edge) => {\r\n  console.log('onUpdateEdge', edge);\r\n}\r\n\r\nconst updateNodeLabel = () => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    updateNode(selectedNode.value.id, { \r\n      ...selectedNode.value, \r\n      data: { ...selectedNode.value.data, label: selectedNode.value.data.label } \r\n    });\r\n  }\r\n};\r\n\r\nconst updateNodeCommand = () => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    updateNode(selectedNode.value.id, { \r\n      ...selectedNode.value, \r\n      data: { ...selectedNode.value.data, command: selectedNode.value.data.command } \r\n    });\r\n  }\r\n};\r\n\r\nconst deleteSelectedEdge = () => {\r\n  if (selectedEdge.value) {\r\n    removeEdges([selectedEdge.value]);\r\n    elements.value = elements.value.filter(el => el.id !== selectedEdge.value?.id);\r\n    selectedEdge.value = null;\r\n    updateStepNumbers();\r\n  }\r\n}\r\n\r\nconst updateStepNumbers = () => {\r\n  let stepNumber = 1;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      node.data.label = `Шаг ${stepNumber}`;\r\n      updateNode(node.id, node);\r\n      stepNumber++;\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nconst startFlow = async () => {\r\n  isRunning.value = true;\r\n  isStopped.value = false;\r\n  currentStep.value = 'start';\r\n\r\n  try {\r\n    await executeStep('start');\r\n    let nextNode = getNextNode('start');\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst stopFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = true;\r\n};\r\n\r\nconst continueFlow = async () => {\r\n  if (!currentStep.value) return;\r\n\r\n  isStopped.value = false;\r\n  isRunning.value = true;\r\n\r\n  try {\r\n    let nextNode = getNextNode(currentStep.value);\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    isStopped.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst resetFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = false;\r\n  currentStep.value = null;\r\n};\r\n\r\nconst executeStep = async (nodeId: string) => {\r\n  const node = elements.value.find((el: any) => el.id === nodeId) as CustomNode;\r\n  if (node && node.data && node.data.processFunction) {\r\n    console.log(`Запуск шага: ${node.data.label}`);\r\n    await node.data.processFunction();\r\n    console.log(`Шаг завершен: ${node.data.label}`);\r\n  }\r\n};\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = elements.value.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nconst generateDAGUYaml = () => {\r\n  const steps = [];\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      steps.push({\r\n        name: node.data.label,\r\n        command: node.data.command\r\n      });\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  const daguConfig = {\r\n    name: flowName.value,\r\n    description: flowDescription.value,\r\n    steps: steps\r\n  };\r\n  \r\n  daguYaml.value = YAML.stringify(daguConfig);\r\n};\r\n\r\nconst downloadDAGUYaml = () => {\r\n  if (!daguYaml.value) return;\r\n  \r\n  const blob = new Blob([daguYaml.value], { type: 'application/yaml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `${flowName.value}.yaml`.replace(/\\s+/g, '_');\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\nonMounted(() => {\r\n  if (flowWrapper.value) {\r\n    flowWrapper.value.focus();\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"flow-container\",\n    tabindex: \"0\",\n    onKeydown: handleKeyDown\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _cache[12] || (_cache[12] = _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h1\", null, \"Flow Builder\"),\n        _createElementVNode(\"p\", null, \"Постройте свой пайплайн процессов\")\n      ], -1)),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _cache[8] || (_cache[8] = _createElementVNode(\"h3\", null, \"Настройки пайплайна\", -1)),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _cache[6] || (_cache[6] = _createElementVNode(\"label\", { for: \"flow-name\" }, \"Название:\", -1)),\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"text\",\n              id: \"flow-name\",\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((flowName).value = $event)),\n              placeholder: \"Введите название\"\n            }, null, 512), [\n              [_vModelText, flowName.value]\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _cache[7] || (_cache[7] = _createElementVNode(\"label\", { for: \"flow-description\" }, \"Описание:\", -1)),\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"text\",\n              id: \"flow-description\",\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((flowDescription).value = $event)),\n              placeholder: \"Введите описание\"\n            }, null, 512), [\n              [_vModelText, flowDescription.value]\n            ])\n          ])\n        ])\n      ]),\n      (isGraphValid.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n            _cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"Конфигурация DAGU\", -1)),\n            _createElementVNode(\"button\", { onClick: generateDAGUYaml }, \"Показать YAML\"),\n            _createElementVNode(\"button\", {\n              onClick: downloadDAGUYaml,\n              disabled: !daguYaml.value\n            }, \"Загрузить YAML\", 8, _hoisted_7),\n            (daguYaml.value)\n              ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_8, _toDisplayString(daguYaml.value), 1))\n              : _createCommentVNode(\"\", true)\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"button\", {\n        class: \"hint-button\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (showHints.value = !showHints.value))\n      }, [\n        _cache[11] || (_cache[11] = _createElementVNode(\"span\", null, \"?\", -1)),\n        (showHints.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _cache[10] || (_cache[10] = [\n              _createElementVNode(\"p\", null, [\n                _createElementVNode(\"strong\", null, \"Ctrl+A\"),\n                _createTextVNode(\" - Добавить новый шаг\")\n              ], -1),\n              _createElementVNode(\"p\", null, [\n                _createElementVNode(\"strong\", null, \"Ctrl+X\"),\n                _createTextVNode(\" - Удалить выбранный шаг\")\n              ], -1)\n            ])))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"button\", { onClick: addNode }, \"Добавить шаг\"),\n      _createElementVNode(\"button\", {\n        onClick: startFlow,\n        disabled: !isGraphValid.value || isRunning.value\n      }, \"Запустить\", 8, _hoisted_11),\n      _createElementVNode(\"button\", {\n        onClick: stopFlow,\n        disabled: !isRunning.value || isStopped.value\n      }, \"Стоп\", 8, _hoisted_12),\n      (isStopped.value)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: continueFlow\n          }, \"Продолжить\"))\n        : _createCommentVNode(\"\", true),\n      (isStopped.value)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            onClick: resetFlow\n          }, \"Сброс\"))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (selectedNode.value && !isProtectedNode(selectedNode.value.id))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n          _cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"Настройки шага\", -1)),\n          _cache[14] || (_cache[14] = _createElementVNode(\"label\", { for: \"node-label\" }, \"Название шага:\", -1)),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            id: \"node-label\",\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((selectedNode.value.data.label) = $event)),\n            onInput: updateNodeLabel\n          }, null, 544), [\n            [_vModelText, selectedNode.value.data.label]\n          ]),\n          _cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n            style: {\"padding-left\":\"20px\"},\n            for: \"node-command\"\n          }, \"Команда:\", -1)),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            id: \"node-command\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((selectedNode.value.data.command) = $event)),\n            onInput: updateNodeCommand\n          }, null, 544), [\n            [_vModelText, selectedNode.value.data.command]\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (selectedEdge.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n          _cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"Настройки связи\", -1)),\n          _createElementVNode(\"button\", { onClick: deleteSelectedEdge }, \"Удалить связь\")\n        ]))\n      : _createCommentVNode(\"\", true),\n    _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", {\n      class: \"flow-wrapper\",\n      ref_key: \"flowWrapper\",\n      ref: flowWrapper\n    }, [\n      _createVNode(_unref(VueFlow), {\n        modelValue: elements.value,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((elements).value = $event)),\n        style: { width: '100%', height: '500px', background: '#fcfcfc' },\n        onNodeClick: onNodeClick,\n        onEdgeClick: onEdgeClick,\n        onUpdateEdge: onUpdateEdge,\n        onEdgeContextMenu: onEdgeContextMenu,\n        \"connection-mode\": connectionMode.value,\n        onConnect: onConnect,\n        onPaneReady: onPaneReady,\n        \"node-class\": nodeClass\n      }, null, 8, [\"modelValue\", \"connection-mode\"])\n    ], 512)\n  ], 32))\n}\n}\n\n})","<template>\r\n  <div class=\"flow-container\" tabindex=\"0\" @keydown=\"handleKeyDown\">\r\n    <div class=\"header-container\">\r\n      <div>\r\n        <h1>Flow Builder</h1>\r\n        <p>Постройте свой пайплайн процессов</p>\r\n      </div>\r\n      <!-- Flow Settings -->\r\n      <div class=\"pipeline-settings\">\r\n        <h3>Настройки пайплайна</h3>\r\n        <div class=\"settings-row\">\r\n          <div class=\"setting-group\">\r\n            <label for=\"flow-name\">Название:</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"flow-name\" \r\n              v-model=\"flowName\" \r\n              placeholder=\"Введите название\"\r\n            />\r\n          </div>\r\n          <div class=\"setting-group\">\r\n            <label for=\"flow-description\">Описание:</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"flow-description\" \r\n              v-model=\"flowDescription\" \r\n              placeholder=\"Введите описание\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- DAGU Section -->\r\n      <div class=\"dagu-section\" v-if=\"isGraphValid\">\r\n        <h3>Конфигурация DAGU</h3>\r\n        <button @click=\"generateDAGUYaml\">Показать YAML</button>\r\n        <button @click=\"downloadDAGUYaml\" :disabled=\"!daguYaml\">Загрузить YAML</button>\r\n        <pre v-if=\"daguYaml\" class=\"yaml-preview\">{{ daguYaml }}</pre>\r\n      </div>\r\n\r\n      <button class=\"hint-button\" @click=\"showHints = !showHints\">\r\n        <span>?</span>\r\n        <div class=\"hint-tooltip\" v-if=\"showHints\">\r\n          <p><strong>Ctrl+A</strong> - Добавить новый шаг</p>\r\n          <p><strong>Ctrl+X</strong> - Удалить выбранный шаг</p>\r\n        </div>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"controls\">\r\n      <button @click=\"addNode\">Добавить шаг</button>\r\n      <button @click=\"startFlow\" :disabled=\"!isGraphValid || isRunning\">Запустить</button>\r\n      <button @click=\"stopFlow\" :disabled=\"!isRunning || isStopped\">Стоп</button>\r\n      <button v-if=\"isStopped\" @click=\"continueFlow\">Продолжить</button>\r\n      <button v-if=\"isStopped\" @click=\"resetFlow\">Сброс</button>\r\n    </div>\r\n    <div v-if=\"selectedNode && !isProtectedNode(selectedNode.id)\">\r\n      <h3>Настройки шага</h3>\r\n      <label for=\"node-label\">Название шага:</label>\r\n      <input type=\"text\" id=\"node-label\" v-model=\"selectedNode.data.label\" @input=\"updateNodeLabel\" />\r\n      <label style=\"padding-left: 20px;\" for=\"node-command\">Команда:</label>\r\n      <input type=\"text\" id=\"node-command\" v-model=\"selectedNode.data.command\" @input=\"updateNodeCommand\" />\r\n    </div>\r\n    <div v-if=\"selectedEdge\">\r\n      <h3>Настройки связи</h3>\r\n      <button @click=\"deleteSelectedEdge\">Удалить связь</button>\r\n    </div>\r\n    <br>\r\n        \r\n    <div class=\"flow-wrapper\" ref=\"flowWrapper\">\r\n      <VueFlow\r\n        v-model=\"elements\"\r\n        :style=\"{ width: '100%', height: '500px', background: '#fcfcfc' }\"\r\n        @node-click=\"onNodeClick\"\r\n        @edge-click=\"onEdgeClick\"\r\n        @updateEdge=\"onUpdateEdge\"\r\n        @edgeContextMenu=\"onEdgeContextMenu\"\r\n        :connection-mode=\"connectionMode\"\r\n        @connect=\"onConnect\"\r\n        @pane-ready=\"onPaneReady\"\r\n        :node-class=\"nodeClass\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { VueFlow, Position, useVueFlow, addEdge, Edge, Node } from '@vue-flow/core';\r\nimport '@vue-flow/core/dist/style.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport YAML from 'yaml';\r\n\r\ninterface NodeData {\r\n  label: string;\r\n  command: string;\r\n  processFunction: () => Promise<void>;\r\n}\r\n\r\ninterface CustomNode extends Node<NodeData> {}\r\n\r\nconst flowName = ref('my_flow');\r\nconst flowDescription = ref('My flow\\'s desciption.');\r\nconst daguYaml = ref('');\r\n\r\nconst elements = ref<Array<CustomNode | Edge>>([\r\n  { \r\n    id: 'start', \r\n    type: 'input', \r\n    data: { label: 'start', command: '', processFunction: async () => { console.log('start'); await delay(1000); } }, \r\n    position: { x: 50, y: 50 },\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#d0d0d0', \r\n      color: 'black',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: false,\r\n    deletable: false\r\n  },\r\n  { \r\n    id: 'end', \r\n    type: 'output', \r\n    data: { label: 'end', command: '', processFunction: async () => { console.log('end'); await delay(1000); } }, \r\n    position: { x: 500, y: 400 },\r\n    sourcePosition: Position.Top,\r\n    style: { \r\n      backgroundColor: '#454545', \r\n      color: 'white',\r\n      borderRadius: '10px',\r\n      width: '120px',\r\n      height: '60px'\r\n    },\r\n    draggable: true,\r\n    selectable: false,\r\n    deletable: false\r\n  },\r\n]);\r\n\r\nconst { \r\n  removeEdges, \r\n  addNodes, \r\n  updateNode, \r\n  removeNodes,\r\n  getEdges\r\n} = useVueFlow();\r\n\r\nconst isRunning = ref(false);\r\nconst isStopped = ref(false);\r\nconst currentStep = ref<string | null>(null);\r\nconst selectedNode = ref<CustomNode | null>(null);\r\nconst selectedEdge = ref<Edge | null>(null);\r\nconst connectionMode = ref(false);\r\nconst flowWrapper = ref<HTMLElement | null>(null);\r\nconst showHints = ref(false);\r\n\r\nconst stepCount = computed(() => {\r\n  let count = 0;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    count++;\r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  return count;\r\n});\r\n\r\nconst delay = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\nconst isProtectedNode = (nodeId: string) => {\r\n  return nodeId === 'start' || nodeId === 'end';\r\n};\r\n\r\nconst isGraphValid = computed(() => {\r\n  const visited = new Set<string>();\r\n  let currentNode: string | null = 'start';\r\n  \r\n  while (currentNode && currentNode !== 'end') {\r\n    if (visited.has(currentNode)) {\r\n      return false;\r\n    }\r\n    visited.add(currentNode);\r\n    \r\n    const edgesFromCurrent = getEdges.value.filter(e => e.source === currentNode);\r\n    if (edgesFromCurrent.length !== 1) {\r\n      return false;\r\n    }\r\n    \r\n    currentNode = edgesFromCurrent[0].target;\r\n  }\r\n  \r\n  return currentNode === 'end';\r\n});\r\n\r\nconst nodeClass = (node: CustomNode) => {\r\n  if (node.type === 'input') return 'input-node';\r\n  if (node.type === 'output') return 'output-node';\r\n  return 'default-node';\r\n};\r\n\r\nconst onPaneReady = ({ pane }: { pane?: HTMLElement }) => {\r\n  if (pane) {\r\n    pane.tabIndex = 0;\r\n    pane.focus();\r\n  }\r\n};\r\n\r\nconst handleKeyDown = (event: KeyboardEvent) => {\r\n  if ((event.ctrlKey || event.metaKey) && \r\n  (event.key === 'x' || event.key === 'ч')) {\r\n    event.preventDefault();\r\n    deleteSelectedNodeWithEdges();\r\n  }\r\n  if ((event.ctrlKey || event.metaKey) &&\r\n  (event.key === 'a' || event.key === 'ф')) {\r\n    event.preventDefault();\r\n    addNode();\r\n  }\r\n};\r\n\r\nconst deleteSelectedNodeWithEdges = () => {\r\n  if (!selectedNode.value || isProtectedNode(selectedNode.value.id)) {\r\n    console.warn('Нет выбранной ноды для удаления или нода защищена');\r\n    return;\r\n  }\r\n\r\n  console.log('Удаление ноды:', selectedNode.value.id);\r\n  \r\n  const nodeId = selectedNode.value.id;\r\n  \r\n  const edgesToRemove = getEdges.value.filter(\r\n    edge => edge.source === nodeId || edge.target === nodeId\r\n  );\r\n  \r\n  console.log('Связанные edges для удаления:', edgesToRemove);\r\n\r\n  if (edgesToRemove.length > 0) {\r\n    console.log('Удаление edges');\r\n    removeEdges(edgesToRemove);\r\n  }\r\n  \r\n  console.log('Удаление ноды');\r\n  removeNodes([nodeId]);\r\n  \r\n  elements.value = elements.value.filter(\r\n    el => el.id !== nodeId && \r\n    !edgesToRemove.some(edge => edge.id === el.id)\r\n  );\r\n  \r\n  selectedNode.value = null;\r\n  updateStepNumbers();\r\n  \r\n  console.log('Удаление завершено, текущие элементы:', elements.value);\r\n};\r\n\r\nconst addNode = () => {\r\n  const newNodeId = uuidv4();\r\n  const newNode: CustomNode = {\r\n    id: newNodeId,\r\n    data: { \r\n      label: `Шаг ${stepCount.value + 1}`, \r\n      command: '',\r\n      processFunction: async () => { \r\n        console.log(`Выполняется шаг ${newNodeId}`); \r\n        await delay(1000); \r\n      } \r\n    },\r\n    position: { x: 100 + stepCount.value * 100, y: 150 },\r\n    targetPosition: Position.Top,\r\n    sourcePosition: Position.Bottom,\r\n    style: { \r\n      backgroundColor: '#2196F3', \r\n      color: 'white',\r\n      borderRadius: '50%',\r\n      width: '80px',\r\n      height: '80px'\r\n    }\r\n  };\r\n  elements.value.push(newNode);\r\n  addNodes([newNode]);\r\n};\r\n\r\nconst onConnect = (params: any) => {\r\n  const newEdge = {\r\n    id: `edge-${params.source}-${params.target}`,\r\n    source: params.source,\r\n    target: params.target,\r\n  };\r\n  elements.value = addEdge(newEdge, elements.value);\r\n  connectionMode.value = false;\r\n  updateStepNumbers();\r\n};\r\n\r\nconst onNodeClick = (event: any) => {\r\n  if (connectionMode.value || isProtectedNode(event.node.id)) return;\r\n  selectedNode.value = event.node;\r\n  selectedEdge.value = null;\r\n};\r\n\r\nconst onEdgeClick = (event: any) => {\r\n  console.log('Edge click event', event)\r\n  selectedNode.value = null;\r\n  selectedEdge.value = event.edge;\r\n};\r\n\r\nconst onEdgeContextMenu = (event: any, edge: Edge) => {\r\n  console.log('TEST edge', edge)\r\n  event.preventDefault();\r\n};\r\n\r\nconst onUpdateEdge = (event: any, edge: Edge) => {\r\n  console.log('onUpdateEdge', edge);\r\n}\r\n\r\nconst updateNodeLabel = () => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    updateNode(selectedNode.value.id, { \r\n      ...selectedNode.value, \r\n      data: { ...selectedNode.value.data, label: selectedNode.value.data.label } \r\n    });\r\n  }\r\n};\r\n\r\nconst updateNodeCommand = () => {\r\n  if (selectedNode.value && !isProtectedNode(selectedNode.value.id)) {\r\n    updateNode(selectedNode.value.id, { \r\n      ...selectedNode.value, \r\n      data: { ...selectedNode.value.data, command: selectedNode.value.data.command } \r\n    });\r\n  }\r\n};\r\n\r\nconst deleteSelectedEdge = () => {\r\n  if (selectedEdge.value) {\r\n    removeEdges([selectedEdge.value]);\r\n    elements.value = elements.value.filter(el => el.id !== selectedEdge.value?.id);\r\n    selectedEdge.value = null;\r\n    updateStepNumbers();\r\n  }\r\n}\r\n\r\nconst updateStepNumbers = () => {\r\n  let stepNumber = 1;\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      node.data.label = `Шаг ${stepNumber}`;\r\n      updateNode(node.id, node);\r\n      stepNumber++;\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nconst startFlow = async () => {\r\n  isRunning.value = true;\r\n  isStopped.value = false;\r\n  currentStep.value = 'start';\r\n\r\n  try {\r\n    await executeStep('start');\r\n    let nextNode = getNextNode('start');\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst stopFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = true;\r\n};\r\n\r\nconst continueFlow = async () => {\r\n  if (!currentStep.value) return;\r\n\r\n  isStopped.value = false;\r\n  isRunning.value = true;\r\n\r\n  try {\r\n    let nextNode = getNextNode(currentStep.value);\r\n\r\n    while (nextNode && isRunning.value) {\r\n      currentStep.value = nextNode;\r\n      await executeStep(nextNode);\r\n      nextNode = getNextNode(nextNode);\r\n    }\r\n\r\n    if (isRunning.value) {\r\n      currentStep.value = 'end';\r\n      await executeStep('end');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка выполнения графа:', error);\r\n  } finally {\r\n    isRunning.value = false;\r\n    isStopped.value = false;\r\n    currentStep.value = null;\r\n  }\r\n};\r\n\r\nconst resetFlow = () => {\r\n  isRunning.value = false;\r\n  isStopped.value = false;\r\n  currentStep.value = null;\r\n};\r\n\r\nconst executeStep = async (nodeId: string) => {\r\n  const node = elements.value.find((el: any) => el.id === nodeId) as CustomNode;\r\n  if (node && node.data && node.data.processFunction) {\r\n    console.log(`Запуск шага: ${node.data.label}`);\r\n    await node.data.processFunction();\r\n    console.log(`Шаг завершен: ${node.data.label}`);\r\n  }\r\n};\r\n\r\nconst getNextNode = (nodeId: string): string | null => {\r\n  const edges = elements.value.filter((el: any) => el.source === nodeId && el.target) as Edge[];\r\n  return edges.length > 0 ? edges[0].target : null;\r\n};\r\n\r\nconst generateDAGUYaml = () => {\r\n  const steps = [];\r\n  let currentNode = 'start';\r\n  \r\n  while (currentNode !== 'end') {\r\n    const nextNode = getNextNode(currentNode);\r\n    if (!nextNode || nextNode === 'end') break;\r\n    \r\n    const node = elements.value.find(n => n.id === nextNode) as CustomNode;\r\n    if (node && !isProtectedNode(node.id)) {\r\n      steps.push({\r\n        name: node.data.label,\r\n        command: node.data.command\r\n      });\r\n    }\r\n    \r\n    currentNode = nextNode;\r\n  }\r\n  \r\n  const daguConfig = {\r\n    name: flowName.value,\r\n    description: flowDescription.value,\r\n    steps: steps\r\n  };\r\n  \r\n  daguYaml.value = YAML.stringify(daguConfig);\r\n};\r\n\r\nconst downloadDAGUYaml = () => {\r\n  if (!daguYaml.value) return;\r\n  \r\n  const blob = new Blob([daguYaml.value], { type: 'application/yaml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `${flowName.value}.yaml`.replace(/\\s+/g, '_');\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\nonMounted(() => {\r\n  if (flowWrapper.value) {\r\n    flowWrapper.value.focus();\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.flow-container {\r\n  font-family: sans-serif;\r\n  padding: 20px;\r\n  outline: none;\r\n}\r\n\r\n.header-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n}\r\n\r\n.hint-button {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n  border: 1px solid #ccc;\r\n  margin-left: 10px;\r\n}\r\n\r\n.hint-button span {\r\n  font-size: 18px;\r\n}\r\n\r\n.hint-tooltip {\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 0;\r\n  background: white;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  z-index: 100;\r\n  width: 200px;\r\n}\r\n\r\n.hint-tooltip p {\r\n  margin: 5px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.controls {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nbutton {\r\n  margin-right: 10px;\r\n  padding: 8px 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #e0e0e0;\r\n}\r\n\r\nbutton:disabled {\r\n  cursor: not-allowed;\r\n  opacity: 0.5;\r\n  background-color: #f0f0f0;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n  width: 200px;\r\n}\r\n\r\n.flow-wrapper {\r\n  border: 2px solid #ddd;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  outline: none;\r\n}\r\n\r\n.dagu-section {\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  border: 1px solid #eee;\r\n  border-radius: 5px;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.yaml-preview {\r\n  background-color: #f5f5f5;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  margin-top: 10px;\r\n  white-space: pre-wrap;\r\n  font-family: monospace;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n\r\n<style>\r\n.vue-flow__node {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.vue-flow__node.input-node {\r\n  background-color: #d0d0d0 !important;\r\n  border-radius: 10px !important;\r\n  width: 120px !important;\r\n  height: 60px !important;\r\n}\r\n\r\n.vue-flow__node.output-node {\r\n  background-color: #454545 !important;\r\n  border-radius: 10px !important;\r\n  width: 120px !important;\r\n  height: 60px !important;\r\n}\r\n\r\n.vue-flow__node.default-node {\r\n  background-color: #2196F3 !important;\r\n  border-radius: 50% !important;\r\n  width: 80px !important;\r\n  height: 80px !important;\r\n}\r\n\r\n.vue-flow__node.selected {\r\n  box-shadow: 0 0 0 2px #555;\r\n}\r\n\r\n.vue-flow__edge-path {\r\n  stroke: #555;\r\n  stroke-width: 2;\r\n}\r\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1eef2465&scoped=true&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=1eef2465&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1eef2465\"]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkflow_builder\"] = self[\"webpackChunkflow_builder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7810); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_defineComponent","__name","setup","__props","flowName","ref","flowDescription","daguYaml","elements","id","type","data","label","command","processFunction","async","console","log","delay","position","x","y","sourcePosition","Position","Bottom","style","backgroundColor","color","borderRadius","width","height","draggable","selectable","deletable","Top","removeEdges","addNodes","updateNode","removeNodes","getEdges","useVueFlow","isRunning","isStopped","currentStep","selectedNode","selectedEdge","connectionMode","flowWrapper","showHints","stepCount","computed","count","currentNode","nextNode","getNextNode","ms","Promise","res","setTimeout","isProtectedNode","nodeId","isGraphValid","visited","Set","has","add","edgesFromCurrent","value","filter","e","source","length","target","nodeClass","node","onPaneReady","pane","tabIndex","focus","handleKeyDown","event","ctrlKey","metaKey","preventDefault","deleteSelectedNodeWithEdges","addNode","warn","edgesToRemove","edge","el","some","updateStepNumbers","newNodeId","uuidv4","newNode","targetPosition","push","onConnect","params","newEdge","addEdge","onNodeClick","onEdgeClick","onEdgeContextMenu","onUpdateEdge","updateNodeLabel","updateNodeCommand","deleteSelectedEdge","stepNumber","find","n","startFlow","executeStep","error","stopFlow","continueFlow","resetFlow","edges","generateDAGUYaml","steps","name","daguConfig","description","YAML","downloadDAGUYaml","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","replace","body","appendChild","click","removeChild","revokeObjectURL","onMounted","_ctx","_cache","_openBlock","_createElementBlock","tabindex","onKeydown","_createElementVNode","for","_withDirectives","$event","placeholder","_vModelText","onClick","disabled","_toDisplayString","_createCommentVNode","_createTextVNode","onInput","ref_key","_createVNode","_unref","VueFlow","modelValue","background","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}